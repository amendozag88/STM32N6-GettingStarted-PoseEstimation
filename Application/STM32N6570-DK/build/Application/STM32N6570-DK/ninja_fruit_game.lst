ARM GAS  C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s 			page 1


   1              		.arch armv8.1-m.main
   2              		.fpu fpv5-d16
   3              		.arch_extension dsp
   4              		.arch_extension fp
   5              		.arch_extension fp.dp
   6              		.arch_extension mve
   7              		.arch_extension mve.fp
   8              		.eabi_attribute 5, "cortex-m55"
   9              		.eabi_attribute 28, 1
  10              		.eabi_attribute 20, 1
  11              		.eabi_attribute 21, 1
  12              		.eabi_attribute 23, 3
  13              		.eabi_attribute 24, 1
  14              		.eabi_attribute 25, 1
  15              		.eabi_attribute 26, 1
  16              		.eabi_attribute 30, 4
  17              		.eabi_attribute 34, 1
  18              		.eabi_attribute 38, 1
  19              		.eabi_attribute 18, 4
  20              		.file	"ninja_fruit_game.c"
  21              		.text
  22              	.Ltext0:
  23              		.cfi_sections	.debug_frame
  24              		.file 1 "Src/ninja_fruit_game.c"
  25              		.section	.text.NinjaGame_Init,"ax",%progbits
  26              		.align	1
  27              		.global	NinjaGame_Init
  28              		.syntax unified
  29              		.thumb
  30              		.thumb_func
  32              	NinjaGame_Init:
  33              	.LVL0:
  34              	.LFB3343:
   1:Src/ninja_fruit_game.c **** 
   2:Src/ninja_fruit_game.c **** /**
   3:Src/ninja_fruit_game.c ****  ******************************************************************************
   4:Src/ninja_fruit_game.c ****  * @file    ninja_fruit_game.c
   5:Src/ninja_fruit_game.c ****  * @author  Antonio Mendoza
   6:Src/ninja_fruit_game.c ****  * @brief   Ninja Fruit Game Implementation
   7:Src/ninja_fruit_game.c ****  ******************************************************************************
   8:Src/ninja_fruit_game.c ****  */
   9:Src/ninja_fruit_game.c **** 
  10:Src/ninja_fruit_game.c **** #include "ninja_fruit_game.h"
  11:Src/ninja_fruit_game.c **** #include "utils.h"
  12:Src/ninja_fruit_game.c **** #include "stm32n6570_discovery.h"
  13:Src/ninja_fruit_game.c **** #include <stdlib.h>
  14:Src/ninja_fruit_game.c **** #include <math.h>
  15:Src/ninja_fruit_game.c **** 
  16:Src/ninja_fruit_game.c **** 
  17:Src/ninja_fruit_game.c **** #define SCREEN_WIDTH 800
  18:Src/ninja_fruit_game.c **** #define SCREEN_HEIGHT 480
  19:Src/ninja_fruit_game.c **** 
  20:Src/ninja_fruit_game.c **** // Fruit colors
  21:Src/ninja_fruit_game.c **** static const uint32_t fruit_colors[FRUIT_TYPES_COUNT] = {
  22:Src/ninja_fruit_game.c ****     UTIL_LCD_COLOR_RED,     // Apple
  23:Src/ninja_fruit_game.c ****     UTIL_LCD_COLOR_ORANGE,  // Orange
  24:Src/ninja_fruit_game.c ****     UTIL_LCD_COLOR_YELLOW,  // Banana
ARM GAS  C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s 			page 2


  25:Src/ninja_fruit_game.c ****     0xFFFF8080              // Strawberry (pink)
  26:Src/ninja_fruit_game.c **** };
  27:Src/ninja_fruit_game.c **** 
  28:Src/ninja_fruit_game.c **** // Fruit names for display
  29:Src/ninja_fruit_game.c **** static const char* fruit_names[FRUIT_TYPES_COUNT] = {
  30:Src/ninja_fruit_game.c ****     "Apple", "Orange", "Banana", "Berry"
  31:Src/ninja_fruit_game.c **** };
  32:Src/ninja_fruit_game.c **** 
  33:Src/ninja_fruit_game.c **** 
  34:Src/ninja_fruit_game.c **** 
  35:Src/ninja_fruit_game.c **** static uint32_t last_mode_toggle = 0;
  36:Src/ninja_fruit_game.c **** static void CheckModeToggle(NinjaGame_t *game)
  37:Src/ninja_fruit_game.c **** {
  38:Src/ninja_fruit_game.c ****     uint32_t now = HAL_GetTick();
  39:Src/ninja_fruit_game.c **** 
  40:Src/ninja_fruit_game.c ****     if ((!game->game_started && !game->game_over) || game->game_over)
  41:Src/ninja_fruit_game.c ****     {
  42:Src/ninja_fruit_game.c ****         if ((BSP_PB_GetState(BUTTON_USER1) == GPIO_PIN_SET) &&
  43:Src/ninja_fruit_game.c ****             (now - last_mode_toggle > 300))
  44:Src/ninja_fruit_game.c ****         {
  45:Src/ninja_fruit_game.c ****             game->mode = (game->mode == NINJA_MODE_SLICE) ? NINJA_MODE_POP : NINJA_MODE_SLICE;
  46:Src/ninja_fruit_game.c ****             last_mode_toggle = now;
  47:Src/ninja_fruit_game.c ****         }
  48:Src/ninja_fruit_game.c ****     }
  49:Src/ninja_fruit_game.c **** }
  50:Src/ninja_fruit_game.c **** 
  51:Src/ninja_fruit_game.c **** 
  52:Src/ninja_fruit_game.c **** 
  53:Src/ninja_fruit_game.c **** void NinjaGame_Init(NinjaGame_t *game)
  54:Src/ninja_fruit_game.c **** {
  35              		.loc 1 54 1 view -0
  36              		.cfi_startproc
  37              		@ args = 0, pretend = 0, frame = 0
  38              		@ frame_needed = 0, uses_anonymous_args = 0
  55:Src/ninja_fruit_game.c ****     memset(game, 0, sizeof(NinjaGame_t));
  39              		.loc 1 55 5 view .LVU1
  54:Src/ninja_fruit_game.c ****     memset(game, 0, sizeof(NinjaGame_t));
  40              		.loc 1 54 1 is_stmt 0 view .LVU2
  41 0000 10B5     		push	{r4, lr}
  42              		.cfi_def_cfa_offset 8
  43              		.cfi_offset 4, -8
  44              		.cfi_offset 14, -4
  45              		.loc 1 55 5 view .LVU3
  46 0002 4FF49072 		mov	r2, #288
  47 0006 0021     		movs	r1, #0
  54:Src/ninja_fruit_game.c ****     memset(game, 0, sizeof(NinjaGame_t));
  48              		.loc 1 54 1 view .LVU4
  49 0008 0446     		mov	r4, r0
  50              		.loc 1 55 5 view .LVU5
  51 000a FFF7FEFF 		bl	memset
  52              	.LVL1:
  56:Src/ninja_fruit_game.c **** 
  57:Src/ninja_fruit_game.c ****     // Initialize all fruits as inactive
  58:Src/ninja_fruit_game.c ****     for (int i = 0; i < MAX_FRUITS; i++) {
  53              		.loc 1 58 5 is_stmt 1 view .LVU6
  54              	.LBB2:
  55              		.loc 1 58 10 view .LVU7
ARM GAS  C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s 			page 3


  56              		.loc 1 58 23 discriminator 1 view .LVU8
  59:Src/ninja_fruit_game.c ****         game->fruits[i].state = FRUIT_STATE_INACTIVE;
  57              		.loc 1 59 9 view .LVU9
  58              		.loc 1 59 31 is_stmt 0 view .LVU10
  59 000e 0323     		movs	r3, #3
  60 0010 6374     		strb	r3, [r4, #17]
  58:Src/ninja_fruit_game.c ****         game->fruits[i].state = FRUIT_STATE_INACTIVE;
  61              		.loc 1 58 38 is_stmt 1 discriminator 3 view .LVU11
  62              	.LVL2:
  58:Src/ninja_fruit_game.c ****         game->fruits[i].state = FRUIT_STATE_INACTIVE;
  63              		.loc 1 58 23 discriminator 1 view .LVU12
  64              		.loc 1 59 9 view .LVU13
  65              		.loc 1 59 31 is_stmt 0 view .LVU14
  66 0012 84F83130 		strb	r3, [r4, #49]
  58:Src/ninja_fruit_game.c ****         game->fruits[i].state = FRUIT_STATE_INACTIVE;
  67              		.loc 1 58 38 is_stmt 1 discriminator 3 view .LVU15
  68              	.LVL3:
  58:Src/ninja_fruit_game.c ****         game->fruits[i].state = FRUIT_STATE_INACTIVE;
  69              		.loc 1 58 23 discriminator 1 view .LVU16
  70              		.loc 1 59 9 view .LVU17
  71              		.loc 1 59 31 is_stmt 0 view .LVU18
  72 0016 84F85130 		strb	r3, [r4, #81]
  58:Src/ninja_fruit_game.c ****         game->fruits[i].state = FRUIT_STATE_INACTIVE;
  73              		.loc 1 58 38 is_stmt 1 discriminator 3 view .LVU19
  74              	.LVL4:
  58:Src/ninja_fruit_game.c ****         game->fruits[i].state = FRUIT_STATE_INACTIVE;
  75              		.loc 1 58 23 discriminator 1 view .LVU20
  76              		.loc 1 59 9 view .LVU21
  77              		.loc 1 59 31 is_stmt 0 view .LVU22
  78 001a 84F87130 		strb	r3, [r4, #113]
  58:Src/ninja_fruit_game.c ****         game->fruits[i].state = FRUIT_STATE_INACTIVE;
  79              		.loc 1 58 38 is_stmt 1 discriminator 3 view .LVU23
  80              	.LVL5:
  58:Src/ninja_fruit_game.c ****         game->fruits[i].state = FRUIT_STATE_INACTIVE;
  81              		.loc 1 58 23 discriminator 1 view .LVU24
  82              		.loc 1 59 9 view .LVU25
  83              		.loc 1 59 31 is_stmt 0 view .LVU26
  84 001e 84F89130 		strb	r3, [r4, #145]
  58:Src/ninja_fruit_game.c ****         game->fruits[i].state = FRUIT_STATE_INACTIVE;
  85              		.loc 1 58 38 is_stmt 1 discriminator 3 view .LVU27
  86              	.LVL6:
  58:Src/ninja_fruit_game.c ****         game->fruits[i].state = FRUIT_STATE_INACTIVE;
  87              		.loc 1 58 23 discriminator 1 view .LVU28
  88              		.loc 1 59 9 view .LVU29
  89              		.loc 1 59 31 is_stmt 0 view .LVU30
  90 0022 84F8B130 		strb	r3, [r4, #177]
  58:Src/ninja_fruit_game.c ****         game->fruits[i].state = FRUIT_STATE_INACTIVE;
  91              		.loc 1 58 38 is_stmt 1 discriminator 3 view .LVU31
  92              	.LVL7:
  58:Src/ninja_fruit_game.c ****         game->fruits[i].state = FRUIT_STATE_INACTIVE;
  93              		.loc 1 58 23 discriminator 1 view .LVU32
  94              		.loc 1 59 9 view .LVU33
  95              		.loc 1 59 31 is_stmt 0 view .LVU34
  96 0026 84F8D130 		strb	r3, [r4, #209]
  58:Src/ninja_fruit_game.c ****         game->fruits[i].state = FRUIT_STATE_INACTIVE;
  97              		.loc 1 58 38 is_stmt 1 discriminator 3 view .LVU35
  98              	.LVL8:
ARM GAS  C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s 			page 4


  58:Src/ninja_fruit_game.c ****         game->fruits[i].state = FRUIT_STATE_INACTIVE;
  99              		.loc 1 58 23 discriminator 1 view .LVU36
 100              		.loc 1 59 9 view .LVU37
 101              		.loc 1 59 31 is_stmt 0 view .LVU38
 102 002a 84F8F130 		strb	r3, [r4, #241]
  58:Src/ninja_fruit_game.c ****         game->fruits[i].state = FRUIT_STATE_INACTIVE;
 103              		.loc 1 58 38 is_stmt 1 discriminator 3 view .LVU39
 104              	.LVL9:
  58:Src/ninja_fruit_game.c ****         game->fruits[i].state = FRUIT_STATE_INACTIVE;
 105              		.loc 1 58 23 discriminator 1 view .LVU40
 106              	.LBE2:
  60:Src/ninja_fruit_game.c ****     }
  61:Src/ninja_fruit_game.c **** 
  62:Src/ninja_fruit_game.c ****     game->spawn_rate_multiplier = 1.0f;
 107              		.loc 1 62 5 view .LVU41
 108              		.loc 1 62 33 is_stmt 0 view .LVU42
 109 002e 4FF07E53 		mov	r3, #1065353216
 110 0032 C4F81831 		str	r3, [r4, #280]	@ float
  63:Src/ninja_fruit_game.c ****     game->level = 1;
 111              		.loc 1 63 5 is_stmt 1 view .LVU43
 112              		.loc 1 63 17 is_stmt 0 view .LVU44
 113 0036 0123     		movs	r3, #1
 114 0038 C4F81431 		str	r3, [r4, #276]
  64:Src/ninja_fruit_game.c ****     game->mode = NINJA_MODE_SLICE;
 115              		.loc 1 64 5 is_stmt 1 view .LVU45
  65:Src/ninja_fruit_game.c **** }
 116              		.loc 1 65 1 is_stmt 0 view .LVU46
 117 003c 10BD     		pop	{r4, pc}
 118              		.loc 1 65 1 view .LVU47
 119              		.cfi_endproc
 120              	.LFE3343:
 122              		.section	.rodata.NinjaGame_Render.str1.1,"aMS",%progbits,1
 123              	.LC0:
 124 0000 534C4943 		.ascii	"SLICE\000"
 124      4500
 125              	.LC1:
 126 0006 504F5000 		.ascii	"POP\000"
 127              	.LC2:
 128 000a 4E494E4A 		.ascii	"NINJA FRUIT SLICER\000"
 128      41204652 
 128      55495420 
 128      534C4943 
 128      455200
 129              	.LC3:
 130 001d 4D616B65 		.ascii	"Make any gesture to start!\000"
 130      20616E79 
 130      20676573 
 130      74757265 
 130      20746F20 
 131              	.LC4:
 132 0038 536C6963 		.ascii	"Slice fruits with arm swipes\000"
 132      65206672 
 132      75697473 
 132      20776974 
 132      68206172 
 133              	.LC5:
 134 0055 446F6E27 		.ascii	"Don't let %d fruits fall!\000"
ARM GAS  C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s 			page 5


 134      74206C65 
 134      74202564 
 134      20667275 
 134      69747320 
 135              	.LC6:
 136 006f 4D6F6465 		.ascii	"Mode: %s\000"
 136      3A202573 
 136      00
 137              	.LC7:
 138 0078 47414D45 		.ascii	"GAME OVER!\000"
 138      204F5645 
 138      522100
 139              	.LC8:
 140 0083 46696E61 		.ascii	"Final Score: %lu\000"
 140      6C205363 
 140      6F72653A 
 140      20256C75 
 140      00
 141              	.LC9:
 142 0094 4C657665 		.ascii	"Level Reached: %lu\000"
 142      6C205265 
 142      61636865 
 142      643A2025 
 142      6C7500
 143              	.LC10:
 144 00a7 4D616B65 		.ascii	"Make any gesture to restart\000"
 144      20616E79 
 144      20676573 
 144      74757265 
 144      20746F20 
 145              	.LC11:
 146 00c3 53636F72 		.ascii	"Score: %lu\000"
 146      653A2025 
 146      6C7500
 147              	.LC12:
 148 00ce 4C657665 		.ascii	"Level: %lu\000"
 148      6C3A2025 
 148      6C7500
 149              	.LC13:
 150 00d9 4D697373 		.ascii	"Missed: %lu/%d\000"
 150      65643A20 
 150      256C752F 
 150      256400
 151              	.LC14:
 152 00e8 54696D65 		.ascii	"Time: %lus\000"
 152      3A20256C 
 152      757300
 153              		.section	.text.NinjaGame_Render,"ax",%progbits
 154              		.align	1
 155              		.global	NinjaGame_Render
 156              		.syntax unified
 157              		.thumb
 158              		.thumb_func
 160              	NinjaGame_Render:
 161              	.LVL10:
 162              	.LFB3350:
  66:Src/ninja_fruit_game.c **** 
ARM GAS  C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s 			page 6


  67:Src/ninja_fruit_game.c **** void NinjaGame_Update(NinjaGame_t *game, GestureDetector_t *gesture_detector, spe_pp_outBuffer_t *k
  68:Src/ninja_fruit_game.c **** {
  69:Src/ninja_fruit_game.c ****     uint32_t current_time = HAL_GetTick();
  70:Src/ninja_fruit_game.c ****     CheckModeToggle(game);
  71:Src/ninja_fruit_game.c ****     // Start game on first gesture detection
  72:Src/ninja_fruit_game.c ****     if (!game->game_started && !game->game_over) {
  73:Src/ninja_fruit_game.c ****         GestureType_t current_gesture = Gesture_GetCurrentDisplayGesture(gesture_detector);
  74:Src/ninja_fruit_game.c ****         if (current_gesture != GESTURE_NONE) {
  75:Src/ninja_fruit_game.c ****             game->game_started = 1;
  76:Src/ninja_fruit_game.c ****             game->game_start_time = current_time;
  77:Src/ninja_fruit_game.c ****         }
  78:Src/ninja_fruit_game.c ****         return;
  79:Src/ninja_fruit_game.c ****     }
  80:Src/ninja_fruit_game.c **** 
  81:Src/ninja_fruit_game.c ****     if (game->game_over) {
  82:Src/ninja_fruit_game.c ****         // Check for restart gesture
  83:Src/ninja_fruit_game.c ****         GestureType_t current_gesture = Gesture_GetCurrentDisplayGesture(gesture_detector);
  84:Src/ninja_fruit_game.c ****         if (current_gesture != GESTURE_NONE) {
  85:Src/ninja_fruit_game.c ****             NinjaGame_Reset(game);
  86:Src/ninja_fruit_game.c ****         }
  87:Src/ninja_fruit_game.c ****         return;
  88:Src/ninja_fruit_game.c ****     }
  89:Src/ninja_fruit_game.c **** 
  90:Src/ninja_fruit_game.c ****     // Update difficulty based on time played
  91:Src/ninja_fruit_game.c ****     uint32_t game_time = current_time - game->game_start_time;
  92:Src/ninja_fruit_game.c ****     game->level = (game_time / 30000) + 1; // Increase level every 30 seconds
  93:Src/ninja_fruit_game.c ****     game->spawn_rate_multiplier = 1.0f + (game->level - 1) * 0.3f;
  94:Src/ninja_fruit_game.c **** 
  95:Src/ninja_fruit_game.c ****     // Spawn new fruits
  96:Src/ninja_fruit_game.c ****     uint32_t spawn_interval = FRUIT_SPAWN_INTERVAL / game->spawn_rate_multiplier;
  97:Src/ninja_fruit_game.c ****     if (current_time - game->last_spawn_time > spawn_interval) {
  98:Src/ninja_fruit_game.c ****         SpawnFruit(game);
  99:Src/ninja_fruit_game.c ****         game->last_spawn_time = current_time;
 100:Src/ninja_fruit_game.c ****     }
 101:Src/ninja_fruit_game.c **** 
 102:Src/ninja_fruit_game.c ****     // Update existing fruits
 103:Src/ninja_fruit_game.c ****     UpdateFruits(game);
 104:Src/ninja_fruit_game.c **** 
 105:Src/ninja_fruit_game.c ****     if (game->mode == NINJA_MODE_SLICE) {
 106:Src/ninja_fruit_game.c ****             // Check for slicing gestures
 107:Src/ninja_fruit_game.c ****             GestureType_t detected_gesture = Gesture_GetCurrentDisplayGesture(gesture_detector);
 108:Src/ninja_fruit_game.c **** 
 109:Src/ninja_fruit_game.c ****             if (detected_gesture == GESTURE_LEFT_ARM_SWIPE_LEFT ||
 110:Src/ninja_fruit_game.c ****                 detected_gesture == GESTURE_LEFT_ARM_SWIPE_RIGHT ||
 111:Src/ninja_fruit_game.c ****                 detected_gesture == GESTURE_RIGHT_ARM_SWIPE_LEFT ||
 112:Src/ninja_fruit_game.c ****                 detected_gesture == GESTURE_RIGHT_ARM_SWIPE_RIGHT ||
 113:Src/ninja_fruit_game.c ****                 detected_gesture == GESTURE_SWORD_OVERHEAD_STRIKE ||
 114:Src/ninja_fruit_game.c ****                 detected_gesture == GESTURE_SWORD_SIDE_SLASH) {
 115:Src/ninja_fruit_game.c **** 
 116:Src/ninja_fruit_game.c ****                 // Create swipe trajectory from wrist movement
 117:Src/ninja_fruit_game.c ****                 SwipeTrajectory_t swipe = {0};
 118:Src/ninja_fruit_game.c **** 
 119:Src/ninja_fruit_game.c ****                 // Get current wrist position
 120:Src/ninja_fruit_game.c ****                 if (detected_gesture == GESTURE_LEFT_ARM_SWIPE_LEFT || detected_gesture == GESTURE_
 121:Src/ninja_fruit_game.c ****                     swipe.end_x = keypoints[KEYPOINT_LEFT_WRIST].x_center;
 122:Src/ninja_fruit_game.c ****                     swipe.end_y = keypoints[KEYPOINT_LEFT_WRIST].y_center;
 123:Src/ninja_fruit_game.c ****                 } else {
ARM GAS  C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s 			page 7


 124:Src/ninja_fruit_game.c ****                     swipe.end_x = keypoints[KEYPOINT_RIGHT_WRIST].x_center;
 125:Src/ninja_fruit_game.c ****                     swipe.end_y = keypoints[KEYPOINT_RIGHT_WRIST].y_center;
 126:Src/ninja_fruit_game.c ****                 }
 127:Src/ninja_fruit_game.c ****                 // Estimate start position based on gesture direction
 128:Src/ninja_fruit_game.c ****                            float32_t dx = (detected_gesture == GESTURE_LEFT_ARM_SWIPE_RIGHT ||
 129:Src/ninja_fruit_game.c ****                                           detected_gesture == GESTURE_RIGHT_ARM_SWIPE_RIGHT) ? -0.2
 130:Src/ninja_fruit_game.c ****                            float32_t dy = (detected_gesture == GESTURE_SWORD_OVERHEAD_STRIKE) ? -0.
 131:Src/ninja_fruit_game.c **** 		      swipe.start_x = swipe.end_x + dx;
 132:Src/ninja_fruit_game.c **** 			  swipe.start_y = swipe.end_y + dy;
 133:Src/ninja_fruit_game.c **** 			  swipe.timestamp = current_time;
 134:Src/ninja_fruit_game.c **** 			  swipe.active = 1;
 135:Src/ninja_fruit_game.c **** 			  CheckSlices(game, &swipe);
 136:Src/ninja_fruit_game.c ****         }
 137:Src/ninja_fruit_game.c ****     	} else {
 138:Src/ninja_fruit_game.c ****             // Pop mode: check if wrists are inside fruit circles
 139:Src/ninja_fruit_game.c ****             CheckBubblePops(game, keypoints);
 140:Src/ninja_fruit_game.c ****         }
 141:Src/ninja_fruit_game.c **** 
 142:Src/ninja_fruit_game.c **** 
 143:Src/ninja_fruit_game.c ****     // Check game over condition
 144:Src/ninja_fruit_game.c ****     if (game->missed_count >= MAX_MISSED_FRUITS) {
 145:Src/ninja_fruit_game.c ****         game->game_over = 1;
 146:Src/ninja_fruit_game.c ****     }
 147:Src/ninja_fruit_game.c **** }
 148:Src/ninja_fruit_game.c **** 
 149:Src/ninja_fruit_game.c **** static void SpawnFruit(NinjaGame_t *game)
 150:Src/ninja_fruit_game.c **** {
 151:Src/ninja_fruit_game.c ****     // Find inactive fruit slot
 152:Src/ninja_fruit_game.c ****     for (int i = 0; i < MAX_FRUITS; i++) {
 153:Src/ninja_fruit_game.c ****         if (game->fruits[i].state == FRUIT_STATE_INACTIVE) {
 154:Src/ninja_fruit_game.c ****             Fruit_t *fruit = &game->fruits[i];
 155:Src/ninja_fruit_game.c **** 
 156:Src/ninja_fruit_game.c ****             // Random spawn position at top of screen
 157:Src/ninja_fruit_game.c ****             fruit->x = 0.25f + (rand() % 500) / 1000.0f; // Random X between 0.1 and 0.9
 158:Src/ninja_fruit_game.c ****             fruit->y = 0.03 + (FRUIT_SIZE/2)/SCREEN_HEIGHT;
 159:Src/ninja_fruit_game.c **** 
 160:Src/ninja_fruit_game.c ****             // Random horizontal drift
 161:Src/ninja_fruit_game.c ****             fruit->velocity_x = ((rand() % 100) - 50) / 10000.0f; // Small horizontal movement
 162:Src/ninja_fruit_game.c ****             fruit->velocity_y = FRUIT_FALL_SPEED + ((rand() % 50) / 1000.0f); // Random fall speed 
 163:Src/ninja_fruit_game.c **** 
 164:Src/ninja_fruit_game.c ****             // Random fruit type
 165:Src/ninja_fruit_game.c ****             fruit->type = rand() % FRUIT_TYPES_COUNT;
 166:Src/ninja_fruit_game.c ****             fruit->state = FRUIT_STATE_FALLING;
 167:Src/ninja_fruit_game.c ****             fruit->spawn_time = HAL_GetTick();
 168:Src/ninja_fruit_game.c **** 
 169:Src/ninja_fruit_game.c ****             break;
 170:Src/ninja_fruit_game.c ****         }
 171:Src/ninja_fruit_game.c ****     }
 172:Src/ninja_fruit_game.c **** }
 173:Src/ninja_fruit_game.c **** 
 174:Src/ninja_fruit_game.c **** static void UpdateFruits(NinjaGame_t *game)
 175:Src/ninja_fruit_game.c **** {
 176:Src/ninja_fruit_game.c ****     uint32_t current_time = HAL_GetTick();
 177:Src/ninja_fruit_game.c ****     float32_t dt = 0.016f; // Assuming ~60fps update rate
 178:Src/ninja_fruit_game.c **** 
 179:Src/ninja_fruit_game.c ****     for (int i = 0; i < MAX_FRUITS; i++) {
 180:Src/ninja_fruit_game.c ****         Fruit_t *fruit = &game->fruits[i];
ARM GAS  C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s 			page 8


 181:Src/ninja_fruit_game.c **** 
 182:Src/ninja_fruit_game.c ****         if (fruit->state == FRUIT_STATE_FALLING) {
 183:Src/ninja_fruit_game.c ****             // Update position
 184:Src/ninja_fruit_game.c ****             fruit->y += fruit->velocity_y * dt;
 185:Src/ninja_fruit_game.c ****             fruit->x += fruit->velocity_x * dt;
 186:Src/ninja_fruit_game.c **** 
 187:Src/ninja_fruit_game.c ****             // Check if fruit fell off screen
 188:Src/ninja_fruit_game.c ****             if (fruit->y > (0.98- (FRUIT_SIZE/2)/SCREEN_HEIGHT)) {
 189:Src/ninja_fruit_game.c ****                 fruit->state = FRUIT_STATE_MISSED;
 190:Src/ninja_fruit_game.c ****                 game->missed_count++;
 191:Src/ninja_fruit_game.c ****             }
 192:Src/ninja_fruit_game.c ****         }
 193:Src/ninja_fruit_game.c ****         else if (fruit->state == FRUIT_STATE_SLICED) {
 194:Src/ninja_fruit_game.c ****             // Remove sliced fruits after animation time
 195:Src/ninja_fruit_game.c ****             if (current_time - fruit->slice_time > SLICE_ANIMATION_TIME) {
 196:Src/ninja_fruit_game.c ****                 fruit->state = FRUIT_STATE_INACTIVE;
 197:Src/ninja_fruit_game.c ****             }
 198:Src/ninja_fruit_game.c ****         }
 199:Src/ninja_fruit_game.c ****         else if (fruit->state == FRUIT_STATE_MISSED) {
 200:Src/ninja_fruit_game.c ****             // Remove missed fruits immediately
 201:Src/ninja_fruit_game.c ****             fruit->state = FRUIT_STATE_INACTIVE;
 202:Src/ninja_fruit_game.c ****         }
 203:Src/ninja_fruit_game.c ****     }
 204:Src/ninja_fruit_game.c **** }
 205:Src/ninja_fruit_game.c **** 
 206:Src/ninja_fruit_game.c **** static void CheckSlices(NinjaGame_t *game, SwipeTrajectory_t *swipe)
 207:Src/ninja_fruit_game.c **** {
 208:Src/ninja_fruit_game.c ****     if (!swipe->active) return;
 209:Src/ninja_fruit_game.c **** 
 210:Src/ninja_fruit_game.c ****     for (int i = 0; i < MAX_FRUITS; i++) {
 211:Src/ninja_fruit_game.c ****         Fruit_t *fruit = &game->fruits[i];
 212:Src/ninja_fruit_game.c **** 
 213:Src/ninja_fruit_game.c ****         if (fruit->state == FRUIT_STATE_FALLING) {
 214:Src/ninja_fruit_game.c ****             // Check if swipe line intersects with fruit circle
 215:Src/ninja_fruit_game.c ****             float32_t radius = FRUIT_SIZE / 2.0f / 800.0f; // Normalized radius
 216:Src/ninja_fruit_game.c **** 
 217:Src/ninja_fruit_game.c ****             if (LineIntersectsCircle(swipe->start_x, swipe->start_y,
 218:Src/ninja_fruit_game.c ****                                    swipe->end_x, swipe->end_y,
 219:Src/ninja_fruit_game.c ****                                    fruit->x, fruit->y, radius)) {
 220:Src/ninja_fruit_game.c **** 
 221:Src/ninja_fruit_game.c ****                 // Fruit sliced!
 222:Src/ninja_fruit_game.c ****                 fruit->state = FRUIT_STATE_SLICED;
 223:Src/ninja_fruit_game.c ****                 fruit->slice_time = HAL_GetTick();
 224:Src/ninja_fruit_game.c ****                 fruit->slice_direction = (swipe->end_x > swipe->start_x) ? 1 : 0;
 225:Src/ninja_fruit_game.c **** 
 226:Src/ninja_fruit_game.c ****                 // Increase score based on fruit type and level
 227:Src/ninja_fruit_game.c ****                 uint32_t base_score = 10;
 228:Src/ninja_fruit_game.c ****                 switch (fruit->type) {
 229:Src/ninja_fruit_game.c ****                     case FRUIT_APPLE: base_score = 10; break;
 230:Src/ninja_fruit_game.c ****                     case FRUIT_ORANGE: base_score = 15; break;
 231:Src/ninja_fruit_game.c ****                     case FRUIT_BANANA: base_score = 20; break;
 232:Src/ninja_fruit_game.c ****                     case FRUIT_STRAWBERRY: base_score = 25; break;
 233:Src/ninja_fruit_game.c ****                 }
 234:Src/ninja_fruit_game.c **** 
 235:Src/ninja_fruit_game.c ****                 game->score += base_score * game->level;
 236:Src/ninja_fruit_game.c ****             }
 237:Src/ninja_fruit_game.c ****         }
ARM GAS  C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s 			page 9


 238:Src/ninja_fruit_game.c ****     }
 239:Src/ninja_fruit_game.c **** }
 240:Src/ninja_fruit_game.c **** 
 241:Src/ninja_fruit_game.c **** static void CheckBubblePops(NinjaGame_t *game, spe_pp_outBuffer_t *keypoints)
 242:Src/ninja_fruit_game.c **** {
 243:Src/ninja_fruit_game.c ****     float32_t lx = keypoints[KEYPOINT_LEFT_WRIST].x_center;
 244:Src/ninja_fruit_game.c ****     float32_t ly = keypoints[KEYPOINT_LEFT_WRIST].y_center;
 245:Src/ninja_fruit_game.c ****     float32_t rx = keypoints[KEYPOINT_RIGHT_WRIST].x_center;
 246:Src/ninja_fruit_game.c ****     float32_t ry = keypoints[KEYPOINT_RIGHT_WRIST].y_center;
 247:Src/ninja_fruit_game.c ****     float32_t radius = FRUIT_SIZE / 2.0f / 800.0f;
 248:Src/ninja_fruit_game.c ****     float32_t radius_sq = radius * radius;
 249:Src/ninja_fruit_game.c **** 
 250:Src/ninja_fruit_game.c ****     for (int i = 0; i < MAX_FRUITS; i++) {
 251:Src/ninja_fruit_game.c ****         Fruit_t *fruit = &game->fruits[i];
 252:Src/ninja_fruit_game.c **** 
 253:Src/ninja_fruit_game.c ****         if (fruit->state == FRUIT_STATE_FALLING) {
 254:Src/ninja_fruit_game.c ****             float32_t dx = lx - fruit->x;
 255:Src/ninja_fruit_game.c ****             float32_t dy = ly - fruit->y;
 256:Src/ninja_fruit_game.c ****             float32_t dist_left_sq = dx * dx + dy * dy;
 257:Src/ninja_fruit_game.c **** 
 258:Src/ninja_fruit_game.c ****             dx = rx - fruit->x;
 259:Src/ninja_fruit_game.c ****             dy = ry - fruit->y;
 260:Src/ninja_fruit_game.c ****             float32_t dist_right_sq = dx * dx + dy * dy;
 261:Src/ninja_fruit_game.c **** 
 262:Src/ninja_fruit_game.c ****             if (dist_left_sq <= radius_sq || dist_right_sq <= radius_sq) {
 263:Src/ninja_fruit_game.c ****                 fruit->state = FRUIT_STATE_SLICED;
 264:Src/ninja_fruit_game.c ****                 fruit->slice_time = HAL_GetTick();
 265:Src/ninja_fruit_game.c ****                 fruit->slice_direction = 0;
 266:Src/ninja_fruit_game.c **** 
 267:Src/ninja_fruit_game.c ****                 uint32_t base_score = 10;
 268:Src/ninja_fruit_game.c ****                 switch (fruit->type) {
 269:Src/ninja_fruit_game.c ****                     case FRUIT_APPLE: base_score = 10; break;
 270:Src/ninja_fruit_game.c ****                     case FRUIT_ORANGE: base_score = 15; break;
 271:Src/ninja_fruit_game.c ****                     case FRUIT_BANANA: base_score = 20; break;
 272:Src/ninja_fruit_game.c ****                     case FRUIT_STRAWBERRY: base_score = 25; break;
 273:Src/ninja_fruit_game.c ****                 }
 274:Src/ninja_fruit_game.c ****                 game->score += base_score * game->level;
 275:Src/ninja_fruit_game.c ****             }
 276:Src/ninja_fruit_game.c ****         }
 277:Src/ninja_fruit_game.c ****     }
 278:Src/ninja_fruit_game.c **** }
 279:Src/ninja_fruit_game.c **** 
 280:Src/ninja_fruit_game.c **** 
 281:Src/ninja_fruit_game.c **** static uint8_t LineIntersectsCircle(float32_t x1, float32_t y1, float32_t x2, float32_t y2,
 282:Src/ninja_fruit_game.c ****                                    float32_t cx, float32_t cy, float32_t radius)
 283:Src/ninja_fruit_game.c **** {
 284:Src/ninja_fruit_game.c ****     // Calculate distance from circle center to line segment
 285:Src/ninja_fruit_game.c ****     float32_t dx = x2 - x1;
 286:Src/ninja_fruit_game.c ****     float32_t dy = y2 - y1;
 287:Src/ninja_fruit_game.c ****     float32_t length = sqrtf(dx*dx + dy*dy);
 288:Src/ninja_fruit_game.c **** 
 289:Src/ninja_fruit_game.c ****     if (length < 0.001f) return 0; // Degenerate line
 290:Src/ninja_fruit_game.c **** 
 291:Src/ninja_fruit_game.c ****     // Normalize direction vector
 292:Src/ninja_fruit_game.c ****     dx /= length;
 293:Src/ninja_fruit_game.c ****     dy /= length;
 294:Src/ninja_fruit_game.c **** 
ARM GAS  C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s 			page 10


 295:Src/ninja_fruit_game.c ****     // Vector from line start to circle center
 296:Src/ninja_fruit_game.c ****     float32_t fx = cx - x1;
 297:Src/ninja_fruit_game.c ****     float32_t fy = cy - y1;
 298:Src/ninja_fruit_game.c **** 
 299:Src/ninja_fruit_game.c ****     // Project circle center onto line
 300:Src/ninja_fruit_game.c ****     float32_t t = fx * dx + fy * dy;
 301:Src/ninja_fruit_game.c **** 
 302:Src/ninja_fruit_game.c ****     // Clamp to line segment
 303:Src/ninja_fruit_game.c ****     if (t < 0) t = 0;
 304:Src/ninja_fruit_game.c ****     if (t > length) t = length;
 305:Src/ninja_fruit_game.c **** 
 306:Src/ninja_fruit_game.c ****     // Find closest point on line segment
 307:Src/ninja_fruit_game.c ****     float32_t closest_x = x1 + t * dx;
 308:Src/ninja_fruit_game.c ****     float32_t closest_y = y1 + t * dy;
 309:Src/ninja_fruit_game.c **** 
 310:Src/ninja_fruit_game.c ****     // Check distance to circle
 311:Src/ninja_fruit_game.c ****     float32_t dist_sq = (cx - closest_x) * (cx - closest_x) + (cy - closest_y) * (cy - closest_y);
 312:Src/ninja_fruit_game.c **** 
 313:Src/ninja_fruit_game.c ****     return dist_sq <= (radius * radius);
 314:Src/ninja_fruit_game.c **** }
 315:Src/ninja_fruit_game.c **** 
 316:Src/ninja_fruit_game.c **** void NinjaGame_Render(NinjaGame_t *game)
 317:Src/ninja_fruit_game.c **** {
 163              		.loc 1 317 1 is_stmt 1 view -0
 164              		.cfi_startproc
 165              		@ args = 0, pretend = 0, frame = 8
 166              		@ frame_needed = 0, uses_anonymous_args = 0
 318:Src/ninja_fruit_game.c ****     uint32_t screen_width = SCREEN_WIDTH;
 167              		.loc 1 318 5 view .LVU49
 319:Src/ninja_fruit_game.c ****     uint32_t screen_height = SCREEN_HEIGHT;
 168              		.loc 1 319 5 view .LVU50
 320:Src/ninja_fruit_game.c **** 
 321:Src/ninja_fruit_game.c ****     if (!game->game_started && !game->game_over) {
 169              		.loc 1 321 5 view .LVU51
 317:Src/ninja_fruit_game.c ****     uint32_t screen_width = SCREEN_WIDTH;
 170              		.loc 1 317 1 is_stmt 0 view .LVU52
 171 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 172              		.cfi_def_cfa_offset 24
 173              		.cfi_offset 4, -24
 174              		.cfi_offset 5, -20
 175              		.cfi_offset 6, -16
 176              		.cfi_offset 7, -12
 177              		.cfi_offset 8, -8
 178              		.cfi_offset 14, -4
 179 0004 2DED088B 		vpush.64	{d8, d9, d10, d11}
 180              		.cfi_def_cfa_offset 56
 181              		.cfi_offset 80, -56
 182              		.cfi_offset 81, -52
 183              		.cfi_offset 82, -48
 184              		.cfi_offset 83, -44
 185              		.cfi_offset 84, -40
 186              		.cfi_offset 85, -36
 187              		.cfi_offset 86, -32
 188              		.cfi_offset 87, -28
 189              		.loc 1 321 8 view .LVU53
 190 0008 B0F80C51 		ldrh	r5, [r0, #268]
 317:Src/ninja_fruit_game.c ****     uint32_t screen_width = SCREEN_WIDTH;
ARM GAS  C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s 			page 11


 191              		.loc 1 317 1 view .LVU54
 192 000c 0446     		mov	r4, r0
 193 000e 84B0     		sub	sp, sp, #16
 194              		.cfi_def_cfa_offset 72
 195              		.loc 1 321 8 view .LVU55
 196 0010 002D     		cmp	r5, #0
 197 0012 46D1     		bne	.L3
 198              	.LBB12:
 322:Src/ninja_fruit_game.c ****         // Show start screen
 323:Src/ninja_fruit_game.c ****         UTIL_LCD_SetBackColor(0x40000000);
 199              		.loc 1 323 9 is_stmt 1 view .LVU56
 200 0014 4FF08040 		mov	r0, #1073741824
 201              	.LVL11:
 202              		.loc 1 323 9 is_stmt 0 view .LVU57
 203 0018 FFF7FEFF 		bl	UTIL_LCD_SetBackColor
 204              	.LVL12:
 324:Src/ninja_fruit_game.c ****         UTIL_LCDEx_PrintfAt(0, LINE(8), CENTER_MODE, "NINJA FRUIT SLICER");
 205              		.loc 1 324 9 is_stmt 1 view .LVU58
 206              		.loc 1 324 32 is_stmt 0 view .LVU59
 207 001c FFF7FEFF 		bl	UTIL_LCD_GetFont
 208              	.LVL13:
 209              		.loc 1 324 32 discriminator 1 view .LVU60
 210 0020 C188     		ldrh	r1, [r0, #6]
 211              		.loc 1 324 9 discriminator 1 view .LVU61
 212 0022 0122     		movs	r2, #1
 213 0024 A04B     		ldr	r3, .L22
 214 0026 C900     		lsls	r1, r1, #3
 215 0028 2846     		mov	r0, r5
 216 002a FFF7FEFF 		bl	UTIL_LCDEx_PrintfAt
 217              	.LVL14:
 325:Src/ninja_fruit_game.c ****         UTIL_LCDEx_PrintfAt(0, LINE(10), CENTER_MODE, "Make any gesture to start!");
 218              		.loc 1 325 9 is_stmt 1 view .LVU62
 219              		.loc 1 325 32 is_stmt 0 view .LVU63
 220 002e FFF7FEFF 		bl	UTIL_LCD_GetFont
 221              	.LVL15:
 222              		.loc 1 325 32 discriminator 1 view .LVU64
 223 0032 C188     		ldrh	r1, [r0, #6]
 224              		.loc 1 325 9 discriminator 1 view .LVU65
 225 0034 0A20     		movs	r0, #10
 226 0036 0122     		movs	r2, #1
 227 0038 4143     		muls	r1, r0, r1
 228 003a 9C4B     		ldr	r3, .L22+4
 229 003c 2846     		mov	r0, r5
 230 003e FFF7FEFF 		bl	UTIL_LCDEx_PrintfAt
 231              	.LVL16:
 326:Src/ninja_fruit_game.c ****         UTIL_LCDEx_PrintfAt(0, LINE(12), CENTER_MODE, "Slice fruits with arm swipes");
 232              		.loc 1 326 9 is_stmt 1 view .LVU66
 233              		.loc 1 326 32 is_stmt 0 view .LVU67
 234 0042 FFF7FEFF 		bl	UTIL_LCD_GetFont
 235              	.LVL17:
 236              		.loc 1 326 32 discriminator 1 view .LVU68
 237 0046 C188     		ldrh	r1, [r0, #6]
 238              		.loc 1 326 9 discriminator 1 view .LVU69
 239 0048 0C20     		movs	r0, #12
 240 004a 0122     		movs	r2, #1
 241 004c 4143     		muls	r1, r0, r1
 242 004e 984B     		ldr	r3, .L22+8
ARM GAS  C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s 			page 12


 243 0050 2846     		mov	r0, r5
 244 0052 FFF7FEFF 		bl	UTIL_LCDEx_PrintfAt
 245              	.LVL18:
 327:Src/ninja_fruit_game.c ****         UTIL_LCDEx_PrintfAt(0, LINE(13), CENTER_MODE, "Don't let %d fruits fall!", MAX_MISSED_FRUIT
 246              		.loc 1 327 9 is_stmt 1 view .LVU70
 247              		.loc 1 327 32 is_stmt 0 view .LVU71
 248 0056 FFF7FEFF 		bl	UTIL_LCD_GetFont
 249              	.LVL19:
 250              		.loc 1 327 9 discriminator 1 view .LVU72
 251 005a 0523     		movs	r3, #5
 252              		.loc 1 327 32 discriminator 1 view .LVU73
 253 005c C188     		ldrh	r1, [r0, #6]
 254              		.loc 1 327 9 discriminator 1 view .LVU74
 255 005e 0D20     		movs	r0, #13
 256 0060 0093     		str	r3, [sp]
 257 0062 4143     		muls	r1, r0, r1
 258 0064 0122     		movs	r2, #1
 259 0066 2846     		mov	r0, r5
 260 0068 924B     		ldr	r3, .L22+12
 261 006a FFF7FEFF 		bl	UTIL_LCDEx_PrintfAt
 262              	.LVL20:
 328:Src/ninja_fruit_game.c ****         UTIL_LCDEx_PrintfAt(0, LINE(15), CENTER_MODE, "Mode: %s", (game->mode == NINJA_MODE_SLICE) 
 263              		.loc 1 328 9 is_stmt 1 view .LVU75
 264              	.L21:
 265              	.LBE12:
 266              	.LBB13:
 329:Src/ninja_fruit_game.c ****         UTIL_LCD_SetBackColor(0);
 330:Src/ninja_fruit_game.c ****         return;
 331:Src/ninja_fruit_game.c ****     }
 332:Src/ninja_fruit_game.c **** 
 333:Src/ninja_fruit_game.c ****     if (game->game_over) {
 334:Src/ninja_fruit_game.c ****         // Show game over screen
 335:Src/ninja_fruit_game.c ****         UTIL_LCD_SetBackColor(0x40FF0000);
 336:Src/ninja_fruit_game.c ****         UTIL_LCDEx_PrintfAt(0, LINE(8), CENTER_MODE, "GAME OVER!");
 337:Src/ninja_fruit_game.c ****         UTIL_LCDEx_PrintfAt(0, LINE(10), CENTER_MODE, "Final Score: %lu", game->score);
 338:Src/ninja_fruit_game.c ****         UTIL_LCDEx_PrintfAt(0, LINE(11), CENTER_MODE, "Level Reached: %lu", game->level);
 339:Src/ninja_fruit_game.c ****         UTIL_LCDEx_PrintfAt(0, LINE(13), CENTER_MODE, "Make any gesture to restart");
 340:Src/ninja_fruit_game.c ****         UTIL_LCDEx_PrintfAt(0, LINE(15), CENTER_MODE, "Mode: %s", (game->mode == NINJA_MODE_SLICE) 
 267              		.loc 1 340 9 view .LVU76
 268              		.loc 1 340 32 is_stmt 0 view .LVU77
 269 006e FFF7FEFF 		bl	UTIL_LCD_GetFont
 270              	.LVL21:
 271              		.loc 1 340 9 discriminator 1 view .LVU78
 272 0072 94F81C31 		ldrb	r3, [r4, #284]	@ zero_extendqisi2
 273 0076 904A     		ldr	r2, .L22+16
 274 0078 002B     		cmp	r3, #0
 275 007a 904B     		ldr	r3, .L22+20
 276 007c 08BF     		it	eq
 277 007e 1346     		moveq	r3, r2
 278              		.loc 1 340 32 discriminator 1 view .LVU79
 279 0080 C188     		ldrh	r1, [r0, #6]
 280              		.loc 1 340 9 discriminator 4 view .LVU80
 281 0082 0122     		movs	r2, #1
 282 0084 0020     		movs	r0, #0
 283 0086 0093     		str	r3, [sp]
 284 0088 8D4B     		ldr	r3, .L22+24
 285 008a C1EB0111 		rsb	r1, r1, r1, lsl #4
ARM GAS  C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s 			page 13


 286              	.LVL22:
 287              	.L20:
 288              		.loc 1 340 9 discriminator 4 view .LVU81
 289              	.LBE13:
 290              	.LBB14:
 291              	.LBB15:
 341:Src/ninja_fruit_game.c ****         UTIL_LCD_SetBackColor(0);
 342:Src/ninja_fruit_game.c ****         return;
 343:Src/ninja_fruit_game.c ****     }
 344:Src/ninja_fruit_game.c **** 
 345:Src/ninja_fruit_game.c ****     // Render fruits
 346:Src/ninja_fruit_game.c ****     for (int i = 0; i < MAX_FRUITS; i++) {
 347:Src/ninja_fruit_game.c ****         if (game->fruits[i].state != FRUIT_STATE_INACTIVE) {
 348:Src/ninja_fruit_game.c ****             RenderFruit(&game->fruits[i], screen_width, screen_height);
 349:Src/ninja_fruit_game.c ****         }
 350:Src/ninja_fruit_game.c ****     }
 351:Src/ninja_fruit_game.c **** 
 352:Src/ninja_fruit_game.c ****     // Render UI
 353:Src/ninja_fruit_game.c ****     RenderUI(game);
 354:Src/ninja_fruit_game.c **** }
 355:Src/ninja_fruit_game.c **** 
 356:Src/ninja_fruit_game.c **** static void RenderFruit(Fruit_t *fruit, uint32_t screen_width, uint32_t screen_height)
 357:Src/ninja_fruit_game.c **** {
 358:Src/ninja_fruit_game.c ****     // Convert normalized coordinates to screen coordinates
 359:Src/ninja_fruit_game.c ****     int screen_x = (int)(fruit->x * screen_width);
 360:Src/ninja_fruit_game.c ****     int screen_y = (int)(fruit->y * screen_height);
 361:Src/ninja_fruit_game.c **** 
 362:Src/ninja_fruit_game.c ****     uint32_t color = fruit_colors[fruit->type];
 363:Src/ninja_fruit_game.c **** 
 364:Src/ninja_fruit_game.c ****     if (fruit->state == FRUIT_STATE_FALLING) {
 365:Src/ninja_fruit_game.c ****         // Draw whole fruit
 366:Src/ninja_fruit_game.c ****         UTIL_LCD_FillCircle(screen_x, screen_y, FRUIT_SIZE/2, color);
 367:Src/ninja_fruit_game.c **** 
 368:Src/ninja_fruit_game.c ****         // Add highlight for 3D effect
 369:Src/ninja_fruit_game.c ****         UTIL_LCD_FillCircle(screen_x - FRUIT_SIZE/6, screen_y - FRUIT_SIZE/6, FRUIT_SIZE/8,
 370:Src/ninja_fruit_game.c ****                            UTIL_LCD_COLOR_WHITE);
 371:Src/ninja_fruit_game.c ****     }
 372:Src/ninja_fruit_game.c ****     else if (fruit->state == FRUIT_STATE_SLICED) {
 373:Src/ninja_fruit_game.c ****         // Draw sliced fruit halves
 374:Src/ninja_fruit_game.c ****         uint32_t elapsed = HAL_GetTick() - fruit->slice_time;
 375:Src/ninja_fruit_game.c ****         float32_t separation = (elapsed / (float32_t)SLICE_ANIMATION_TIME) * FRUIT_SIZE;
 376:Src/ninja_fruit_game.c **** 
 377:Src/ninja_fruit_game.c ****         if (fruit->slice_direction) {
 378:Src/ninja_fruit_game.c ****             // Right slice - left half moves left, right half moves right
 379:Src/ninja_fruit_game.c ****             UTIL_LCD_FillCircle(screen_x - separation/2, screen_y + separation/4, FRUIT_SIZE/3, col
 380:Src/ninja_fruit_game.c ****             UTIL_LCD_FillCircle(screen_x + separation/2, screen_y + separation/4, FRUIT_SIZE/3, col
 381:Src/ninja_fruit_game.c ****         } else {
 382:Src/ninja_fruit_game.c ****             // Left slice
 383:Src/ninja_fruit_game.c ****             UTIL_LCD_FillCircle(screen_x + separation/2, screen_y + separation/4, FRUIT_SIZE/3, col
 384:Src/ninja_fruit_game.c ****             UTIL_LCD_FillCircle(screen_x - separation/2, screen_y + separation/4, FRUIT_SIZE/3, col
 385:Src/ninja_fruit_game.c ****         }
 386:Src/ninja_fruit_game.c ****     }
 387:Src/ninja_fruit_game.c **** }
 388:Src/ninja_fruit_game.c **** 
 389:Src/ninja_fruit_game.c **** static void RenderUI(NinjaGame_t *game)
 390:Src/ninja_fruit_game.c **** {
 391:Src/ninja_fruit_game.c ****     UTIL_LCD_SetBackColor(0x40000000);
ARM GAS  C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s 			page 14


 392:Src/ninja_fruit_game.c **** 
 393:Src/ninja_fruit_game.c ****     // Score
 394:Src/ninja_fruit_game.c ****     UTIL_LCD_SetTextColor(UTIL_LCD_COLOR_WHITE);
 395:Src/ninja_fruit_game.c ****     UTIL_LCDEx_PrintfAt(0, LINE(1), LEFT_MODE, "Score: %lu", game->score);
 396:Src/ninja_fruit_game.c **** 
 397:Src/ninja_fruit_game.c ****     // Level
 398:Src/ninja_fruit_game.c ****     UTIL_LCDEx_PrintfAt(0, LINE(2), LEFT_MODE, "Level: %lu", game->level);
 399:Src/ninja_fruit_game.c **** 
 400:Src/ninja_fruit_game.c ****     // Missed fruits
 401:Src/ninja_fruit_game.c ****     if (game->missed_count > MAX_MISSED_FRUITS / 2) {
 402:Src/ninja_fruit_game.c ****         UTIL_LCD_SetTextColor(UTIL_LCD_COLOR_RED);
 403:Src/ninja_fruit_game.c ****     }
 404:Src/ninja_fruit_game.c ****     UTIL_LCDEx_PrintfAt(0, LINE(3), LEFT_MODE, "Missed: %lu/%d", game->missed_count, MAX_MISSED_FRU
 405:Src/ninja_fruit_game.c ****     UTIL_LCD_SetTextColor(UTIL_LCD_COLOR_WHITE);
 406:Src/ninja_fruit_game.c **** 
 407:Src/ninja_fruit_game.c ****     // Game time
 408:Src/ninja_fruit_game.c ****     uint32_t game_time = (HAL_GetTick() - game->game_start_time) / 1000;
 409:Src/ninja_fruit_game.c ****     UTIL_LCDEx_PrintfAt(600, LINE(1), LEFT_MODE, "Time: %lus", game_time);
 292              		.loc 1 409 5 discriminator 1 view .LVU82
 293 008e FFF7FEFF 		bl	UTIL_LCDEx_PrintfAt
 294              	.LVL23:
 410:Src/ninja_fruit_game.c **** 
 411:Src/ninja_fruit_game.c ****     UTIL_LCD_SetBackColor(0);
 295              		.loc 1 411 5 is_stmt 1 view .LVU83
 296 0092 0020     		movs	r0, #0
 297              	.LBE15:
 298              	.LBE14:
 354:Src/ninja_fruit_game.c **** 
 299              		.loc 1 354 1 is_stmt 0 view .LVU84
 300 0094 04B0     		add	sp, sp, #16
 301              		.cfi_remember_state
 302              		.cfi_def_cfa_offset 56
 303              		@ sp needed
 304 0096 BDEC088B 		vldm	sp!, {d8-d11}
 305              		.cfi_restore 86
 306              		.cfi_restore 87
 307              		.cfi_restore 84
 308              		.cfi_restore 85
 309              		.cfi_restore 82
 310              		.cfi_restore 83
 311              		.cfi_restore 80
 312              		.cfi_restore 81
 313              		.cfi_def_cfa_offset 24
 314 009a BDE8F041 		pop	{r4, r5, r6, r7, r8, lr}
 315              		.cfi_restore 14
 316              		.cfi_restore 8
 317              		.cfi_restore 7
 318              		.cfi_restore 6
 319              		.cfi_restore 5
 320              		.cfi_restore 4
 321              		.cfi_def_cfa_offset 0
 322              	.LBB18:
 323              	.LBB16:
 324              		.loc 1 411 5 view .LVU85
 325 009e FFF7FEBF 		b	UTIL_LCD_SetBackColor
 326              	.LVL24:
 327              	.L3:
ARM GAS  C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s 			page 15


 328              		.cfi_restore_state
 329              		.loc 1 411 5 view .LVU86
 330              	.LBE16:
 331              	.LBE18:
 333:Src/ninja_fruit_game.c ****         // Show game over screen
 332              		.loc 1 333 5 is_stmt 1 view .LVU87
 333:Src/ninja_fruit_game.c ****         // Show game over screen
 333              		.loc 1 333 8 is_stmt 0 view .LVU88
 334 00a2 90F80C31 		ldrb	r3, [r0, #268]	@ zero_extendqisi2
 335 00a6 83B3     		cbz	r3, .L5
 336              	.LBB19:
 335:Src/ninja_fruit_game.c ****         UTIL_LCDEx_PrintfAt(0, LINE(8), CENTER_MODE, "GAME OVER!");
 337              		.loc 1 335 9 is_stmt 1 view .LVU89
 338 00a8 8648     		ldr	r0, .L22+28
 339              	.LVL25:
 335:Src/ninja_fruit_game.c ****         UTIL_LCDEx_PrintfAt(0, LINE(8), CENTER_MODE, "GAME OVER!");
 340              		.loc 1 335 9 is_stmt 0 view .LVU90
 341 00aa FFF7FEFF 		bl	UTIL_LCD_SetBackColor
 342              	.LVL26:
 336:Src/ninja_fruit_game.c ****         UTIL_LCDEx_PrintfAt(0, LINE(10), CENTER_MODE, "Final Score: %lu", game->score);
 343              		.loc 1 336 9 is_stmt 1 view .LVU91
 336:Src/ninja_fruit_game.c ****         UTIL_LCDEx_PrintfAt(0, LINE(10), CENTER_MODE, "Final Score: %lu", game->score);
 344              		.loc 1 336 32 is_stmt 0 view .LVU92
 345 00ae FFF7FEFF 		bl	UTIL_LCD_GetFont
 346              	.LVL27:
 336:Src/ninja_fruit_game.c ****         UTIL_LCDEx_PrintfAt(0, LINE(10), CENTER_MODE, "Final Score: %lu", game->score);
 347              		.loc 1 336 32 discriminator 1 view .LVU93
 348 00b2 C188     		ldrh	r1, [r0, #6]
 336:Src/ninja_fruit_game.c ****         UTIL_LCDEx_PrintfAt(0, LINE(10), CENTER_MODE, "Final Score: %lu", game->score);
 349              		.loc 1 336 9 discriminator 1 view .LVU94
 350 00b4 0122     		movs	r2, #1
 351 00b6 844B     		ldr	r3, .L22+32
 352 00b8 C900     		lsls	r1, r1, #3
 353 00ba 0020     		movs	r0, #0
 354 00bc FFF7FEFF 		bl	UTIL_LCDEx_PrintfAt
 355              	.LVL28:
 337:Src/ninja_fruit_game.c ****         UTIL_LCDEx_PrintfAt(0, LINE(11), CENTER_MODE, "Level Reached: %lu", game->level);
 356              		.loc 1 337 9 is_stmt 1 view .LVU95
 337:Src/ninja_fruit_game.c ****         UTIL_LCDEx_PrintfAt(0, LINE(11), CENTER_MODE, "Level Reached: %lu", game->level);
 357              		.loc 1 337 32 is_stmt 0 view .LVU96
 358 00c0 FFF7FEFF 		bl	UTIL_LCD_GetFont
 359              	.LVL29:
 337:Src/ninja_fruit_game.c ****         UTIL_LCDEx_PrintfAt(0, LINE(11), CENTER_MODE, "Level Reached: %lu", game->level);
 360              		.loc 1 337 32 discriminator 1 view .LVU97
 361 00c4 C188     		ldrh	r1, [r0, #6]
 337:Src/ninja_fruit_game.c ****         UTIL_LCDEx_PrintfAt(0, LINE(11), CENTER_MODE, "Level Reached: %lu", game->level);
 362              		.loc 1 337 9 discriminator 1 view .LVU98
 363 00c6 0A20     		movs	r0, #10
 364 00c8 D4F80031 		ldr	r3, [r4, #256]
 365 00cc 4143     		muls	r1, r0, r1
 366 00ce 0122     		movs	r2, #1
 367 00d0 0093     		str	r3, [sp]
 368 00d2 0020     		movs	r0, #0
 369 00d4 7D4B     		ldr	r3, .L22+36
 370 00d6 FFF7FEFF 		bl	UTIL_LCDEx_PrintfAt
 371              	.LVL30:
 338:Src/ninja_fruit_game.c ****         UTIL_LCDEx_PrintfAt(0, LINE(13), CENTER_MODE, "Make any gesture to restart");
ARM GAS  C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s 			page 16


 372              		.loc 1 338 9 is_stmt 1 view .LVU99
 338:Src/ninja_fruit_game.c ****         UTIL_LCDEx_PrintfAt(0, LINE(13), CENTER_MODE, "Make any gesture to restart");
 373              		.loc 1 338 32 is_stmt 0 view .LVU100
 374 00da FFF7FEFF 		bl	UTIL_LCD_GetFont
 375              	.LVL31:
 338:Src/ninja_fruit_game.c ****         UTIL_LCDEx_PrintfAt(0, LINE(13), CENTER_MODE, "Make any gesture to restart");
 376              		.loc 1 338 32 discriminator 1 view .LVU101
 377 00de C188     		ldrh	r1, [r0, #6]
 338:Src/ninja_fruit_game.c ****         UTIL_LCDEx_PrintfAt(0, LINE(13), CENTER_MODE, "Make any gesture to restart");
 378              		.loc 1 338 9 discriminator 1 view .LVU102
 379 00e0 0B20     		movs	r0, #11
 380 00e2 D4F81431 		ldr	r3, [r4, #276]
 381 00e6 4143     		muls	r1, r0, r1
 382 00e8 0122     		movs	r2, #1
 383 00ea 0093     		str	r3, [sp]
 384 00ec 0020     		movs	r0, #0
 385 00ee 784B     		ldr	r3, .L22+40
 386 00f0 FFF7FEFF 		bl	UTIL_LCDEx_PrintfAt
 387              	.LVL32:
 339:Src/ninja_fruit_game.c ****         UTIL_LCDEx_PrintfAt(0, LINE(15), CENTER_MODE, "Mode: %s", (game->mode == NINJA_MODE_SLICE) 
 388              		.loc 1 339 9 is_stmt 1 view .LVU103
 339:Src/ninja_fruit_game.c ****         UTIL_LCDEx_PrintfAt(0, LINE(15), CENTER_MODE, "Mode: %s", (game->mode == NINJA_MODE_SLICE) 
 389              		.loc 1 339 32 is_stmt 0 view .LVU104
 390 00f4 FFF7FEFF 		bl	UTIL_LCD_GetFont
 391              	.LVL33:
 339:Src/ninja_fruit_game.c ****         UTIL_LCDEx_PrintfAt(0, LINE(15), CENTER_MODE, "Mode: %s", (game->mode == NINJA_MODE_SLICE) 
 392              		.loc 1 339 32 discriminator 1 view .LVU105
 393 00f8 C188     		ldrh	r1, [r0, #6]
 339:Src/ninja_fruit_game.c ****         UTIL_LCDEx_PrintfAt(0, LINE(15), CENTER_MODE, "Mode: %s", (game->mode == NINJA_MODE_SLICE) 
 394              		.loc 1 339 9 discriminator 1 view .LVU106
 395 00fa 0D20     		movs	r0, #13
 396 00fc 0122     		movs	r2, #1
 397 00fe 4143     		muls	r1, r0, r1
 398 0100 744B     		ldr	r3, .L22+44
 399 0102 0020     		movs	r0, #0
 400 0104 FFF7FEFF 		bl	UTIL_LCDEx_PrintfAt
 401              	.LVL34:
 402 0108 B1E7     		b	.L21
 403              	.LVL35:
 404              	.L5:
 339:Src/ninja_fruit_game.c ****         UTIL_LCDEx_PrintfAt(0, LINE(15), CENTER_MODE, "Mode: %s", (game->mode == NINJA_MODE_SLICE) 
 405              		.loc 1 339 9 discriminator 1 view .LVU107
 406 010a 0546     		mov	r5, r0
 407              	.LBE19:
 408              	.LBB20:
 409              	.LBB21:
 410              	.LBB22:
 359:Src/ninja_fruit_game.c ****     int screen_y = (int)(fruit->y * screen_height);
 411              		.loc 1 359 35 view .LVU108
 412 010c 9FED729A 		vldr.32	s18, .L22+48
 360:Src/ninja_fruit_game.c **** 
 413              		.loc 1 360 35 view .LVU109
 414 0110 DFED729A 		vldr.32	s19, .L22+52
 362:Src/ninja_fruit_game.c **** 
 415              		.loc 1 362 14 view .LVU110
 416 0114 DFF8E081 		ldr	r8, .L22+80
 417 0118 00F58077 		add	r7, r0, #256
ARM GAS  C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s 			page 17


 418              	.LVL36:
 419              	.L10:
 362:Src/ninja_fruit_game.c **** 
 420              		.loc 1 362 14 view .LVU111
 421              	.LBE22:
 422              	.LBE21:
 347:Src/ninja_fruit_game.c ****             RenderFruit(&game->fruits[i], screen_width, screen_height);
 423              		.loc 1 347 9 is_stmt 1 view .LVU112
 347:Src/ninja_fruit_game.c ****             RenderFruit(&game->fruits[i], screen_width, screen_height);
 424              		.loc 1 347 28 is_stmt 0 view .LVU113
 425 011c 6B7C     		ldrb	r3, [r5, #17]	@ zero_extendqisi2
 347:Src/ninja_fruit_game.c ****             RenderFruit(&game->fruits[i], screen_width, screen_height);
 426              		.loc 1 347 12 view .LVU114
 427 011e 032B     		cmp	r3, #3
 428 0120 23D0     		beq	.L7
 348:Src/ninja_fruit_game.c ****         }
 429              		.loc 1 348 13 is_stmt 1 view .LVU115
 430              	.LVL37:
 431              	.LBB27:
 432              	.LBI21:
 356:Src/ninja_fruit_game.c **** {
 433              		.loc 1 356 13 view .LVU116
 434              	.LBB25:
 359:Src/ninja_fruit_game.c ****     int screen_y = (int)(fruit->y * screen_height);
 435              		.loc 1 359 5 view .LVU117
 359:Src/ninja_fruit_game.c ****     int screen_y = (int)(fruit->y * screen_height);
 436              		.loc 1 359 35 is_stmt 0 view .LVU118
 437 0122 D5ED008A 		vldr.32	s17, [r5]
 360:Src/ninja_fruit_game.c **** 
 438              		.loc 1 360 35 view .LVU119
 439 0126 95ED018A 		vldr.32	s16, [r5, #4]
 359:Src/ninja_fruit_game.c ****     int screen_y = (int)(fruit->y * screen_height);
 440              		.loc 1 359 35 view .LVU120
 441 012a 68EE898A 		vmul.f32	s17, s17, s18
 360:Src/ninja_fruit_game.c **** 
 442              		.loc 1 360 35 view .LVU121
 443 012e 28EE298A 		vmul.f32	s16, s16, s19
 362:Src/ninja_fruit_game.c **** 
 444              		.loc 1 362 40 view .LVU122
 445 0132 2A7C     		ldrb	r2, [r5, #16]	@ zero_extendqisi2
 359:Src/ninja_fruit_game.c ****     int screen_y = (int)(fruit->y * screen_height);
 446              		.loc 1 359 9 view .LVU123
 447 0134 FDEEE88A 		vcvt.s32.f32	s17, s17
 448              	.LVL38:
 360:Src/ninja_fruit_game.c **** 
 449              		.loc 1 360 5 is_stmt 1 view .LVU124
 360:Src/ninja_fruit_game.c **** 
 450              		.loc 1 360 9 is_stmt 0 view .LVU125
 451 0138 BDEEC88A 		vcvt.s32.f32	s16, s16
 452              	.LVL39:
 362:Src/ninja_fruit_game.c **** 
 453              		.loc 1 362 5 is_stmt 1 view .LVU126
 362:Src/ninja_fruit_game.c **** 
 454              		.loc 1 362 14 is_stmt 0 view .LVU127
 455 013c 58F82260 		ldr	r6, [r8, r2, lsl #2]
 456              	.LVL40:
 364:Src/ninja_fruit_game.c ****         // Draw whole fruit
ARM GAS  C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s 			page 18


 457              		.loc 1 364 5 is_stmt 1 view .LVU128
 364:Src/ninja_fruit_game.c ****         // Draw whole fruit
 458              		.loc 1 364 8 is_stmt 0 view .LVU129
 459 0140 002B     		cmp	r3, #0
 460 0142 60D1     		bne	.L8
 366:Src/ninja_fruit_game.c **** 
 461              		.loc 1 366 9 is_stmt 1 view .LVU130
 462 0144 3346     		mov	r3, r6
 463 0146 0F22     		movs	r2, #15
 464 0148 18EE101A 		vmov	r1, s16	@ int
 465 014c 18EE900A 		vmov	r0, s17	@ int
 466 0150 FFF7FEFF 		bl	UTIL_LCD_FillCircle
 467              	.LVL41:
 369:Src/ninja_fruit_game.c ****                            UTIL_LCD_COLOR_WHITE);
 468              		.loc 1 369 9 view .LVU131
 469 0154 18EE101A 		vmov	r1, s16	@ int
 470 0158 18EE900A 		vmov	r0, s17	@ int
 471 015c 4FF0FF33 		mov	r3, #-1
 472 0160 0322     		movs	r2, #3
 473 0162 0539     		subs	r1, r1, #5
 474 0164 0538     		subs	r0, r0, #5
 475              	.LVL42:
 476              	.L18:
 477              	.LBB23:
 384:Src/ninja_fruit_game.c ****         }
 478              		.loc 1 384 13 is_stmt 0 view .LVU132
 479 0166 FFF7FEFF 		bl	UTIL_LCD_FillCircle
 480              	.LVL43:
 481              	.L7:
 384:Src/ninja_fruit_game.c ****         }
 482              		.loc 1 384 13 view .LVU133
 483              	.LBE23:
 484              	.LBE25:
 485              	.LBE27:
 346:Src/ninja_fruit_game.c ****         if (game->fruits[i].state != FRUIT_STATE_INACTIVE) {
 486              		.loc 1 346 38 is_stmt 1 discriminator 2 view .LVU134
 346:Src/ninja_fruit_game.c ****         if (game->fruits[i].state != FRUIT_STATE_INACTIVE) {
 487              		.loc 1 346 23 discriminator 1 view .LVU135
 488 016a 2035     		adds	r5, r5, #32
 489 016c BD42     		cmp	r5, r7
 490 016e D5D1     		bne	.L10
 491              	.LBE20:
 353:Src/ninja_fruit_game.c **** }
 492              		.loc 1 353 5 view .LVU136
 493              	.LVL44:
 494              	.LBB29:
 495              	.LBI14:
 389:Src/ninja_fruit_game.c **** {
 496              		.loc 1 389 13 view .LVU137
 497              	.LBB17:
 391:Src/ninja_fruit_game.c **** 
 498              		.loc 1 391 5 view .LVU138
 499 0170 4FF08040 		mov	r0, #1073741824
 500 0174 FFF7FEFF 		bl	UTIL_LCD_SetBackColor
 501              	.LVL45:
 394:Src/ninja_fruit_game.c ****     UTIL_LCDEx_PrintfAt(0, LINE(1), LEFT_MODE, "Score: %lu", game->score);
 502              		.loc 1 394 5 view .LVU139
ARM GAS  C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s 			page 19


 503 0178 4FF0FF30 		mov	r0, #-1
 504 017c FFF7FEFF 		bl	UTIL_LCD_SetTextColor
 505              	.LVL46:
 395:Src/ninja_fruit_game.c **** 
 506              		.loc 1 395 5 view .LVU140
 395:Src/ninja_fruit_game.c **** 
 507              		.loc 1 395 28 is_stmt 0 view .LVU141
 508 0180 FFF7FEFF 		bl	UTIL_LCD_GetFont
 509              	.LVL47:
 395:Src/ninja_fruit_game.c **** 
 510              		.loc 1 395 5 discriminator 1 view .LVU142
 511 0184 D4F80031 		ldr	r3, [r4, #256]
 512 0188 C188     		ldrh	r1, [r0, #6]
 513 018a 0322     		movs	r2, #3
 514 018c 0093     		str	r3, [sp]
 515 018e 0020     		movs	r0, #0
 516 0190 534B     		ldr	r3, .L22+56
 517 0192 FFF7FEFF 		bl	UTIL_LCDEx_PrintfAt
 518              	.LVL48:
 398:Src/ninja_fruit_game.c **** 
 519              		.loc 1 398 5 is_stmt 1 view .LVU143
 398:Src/ninja_fruit_game.c **** 
 520              		.loc 1 398 28 is_stmt 0 view .LVU144
 521 0196 FFF7FEFF 		bl	UTIL_LCD_GetFont
 522              	.LVL49:
 398:Src/ninja_fruit_game.c **** 
 523              		.loc 1 398 5 discriminator 1 view .LVU145
 524 019a D4F81431 		ldr	r3, [r4, #276]
 398:Src/ninja_fruit_game.c **** 
 525              		.loc 1 398 28 discriminator 1 view .LVU146
 526 019e C188     		ldrh	r1, [r0, #6]
 398:Src/ninja_fruit_game.c **** 
 527              		.loc 1 398 5 discriminator 1 view .LVU147
 528 01a0 0322     		movs	r2, #3
 529 01a2 0093     		str	r3, [sp]
 530 01a4 0020     		movs	r0, #0
 531 01a6 4F4B     		ldr	r3, .L22+60
 532 01a8 4900     		lsls	r1, r1, #1
 533 01aa FFF7FEFF 		bl	UTIL_LCDEx_PrintfAt
 534              	.LVL50:
 401:Src/ninja_fruit_game.c ****         UTIL_LCD_SetTextColor(UTIL_LCD_COLOR_RED);
 535              		.loc 1 401 5 is_stmt 1 view .LVU148
 401:Src/ninja_fruit_game.c ****         UTIL_LCD_SetTextColor(UTIL_LCD_COLOR_RED);
 536              		.loc 1 401 8 is_stmt 0 view .LVU149
 537 01ae D4F80431 		ldr	r3, [r4, #260]
 538 01b2 022B     		cmp	r3, #2
 539 01b4 02D9     		bls	.L11
 402:Src/ninja_fruit_game.c ****     }
 540              		.loc 1 402 9 is_stmt 1 view .LVU150
 541 01b6 4C48     		ldr	r0, .L22+64
 542 01b8 FFF7FEFF 		bl	UTIL_LCD_SetTextColor
 543              	.LVL51:
 544              	.L11:
 404:Src/ninja_fruit_game.c ****     UTIL_LCD_SetTextColor(UTIL_LCD_COLOR_WHITE);
 545              		.loc 1 404 5 view .LVU151
 404:Src/ninja_fruit_game.c ****     UTIL_LCD_SetTextColor(UTIL_LCD_COLOR_WHITE);
 546              		.loc 1 404 28 is_stmt 0 view .LVU152
ARM GAS  C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s 			page 20


 547 01bc FFF7FEFF 		bl	UTIL_LCD_GetFont
 548              	.LVL52:
 404:Src/ninja_fruit_game.c ****     UTIL_LCD_SetTextColor(UTIL_LCD_COLOR_WHITE);
 549              		.loc 1 404 5 discriminator 1 view .LVU153
 550 01c0 0523     		movs	r3, #5
 404:Src/ninja_fruit_game.c ****     UTIL_LCD_SetTextColor(UTIL_LCD_COLOR_WHITE);
 551              		.loc 1 404 28 discriminator 1 view .LVU154
 552 01c2 C188     		ldrh	r1, [r0, #6]
 404:Src/ninja_fruit_game.c ****     UTIL_LCD_SetTextColor(UTIL_LCD_COLOR_WHITE);
 553              		.loc 1 404 5 discriminator 1 view .LVU155
 554 01c4 0193     		str	r3, [sp, #4]
 555 01c6 D4F80431 		ldr	r3, [r4, #260]
 556 01ca 0322     		movs	r2, #3
 557 01cc 01EB4101 		add	r1, r1, r1, lsl #1
 558 01d0 0093     		str	r3, [sp]
 559 01d2 0020     		movs	r0, #0
 560 01d4 454B     		ldr	r3, .L22+68
 561 01d6 FFF7FEFF 		bl	UTIL_LCDEx_PrintfAt
 562              	.LVL53:
 405:Src/ninja_fruit_game.c **** 
 563              		.loc 1 405 5 is_stmt 1 view .LVU156
 564 01da 4FF0FF30 		mov	r0, #-1
 565 01de FFF7FEFF 		bl	UTIL_LCD_SetTextColor
 566              	.LVL54:
 408:Src/ninja_fruit_game.c ****     UTIL_LCDEx_PrintfAt(600, LINE(1), LEFT_MODE, "Time: %lus", game_time);
 567              		.loc 1 408 5 view .LVU157
 408:Src/ninja_fruit_game.c ****     UTIL_LCDEx_PrintfAt(600, LINE(1), LEFT_MODE, "Time: %lus", game_time);
 568              		.loc 1 408 27 is_stmt 0 view .LVU158
 569 01e2 FFF7FEFF 		bl	HAL_GetTick
 570              	.LVL55:
 408:Src/ninja_fruit_game.c ****     UTIL_LCDEx_PrintfAt(600, LINE(1), LEFT_MODE, "Time: %lus", game_time);
 571              		.loc 1 408 14 discriminator 1 view .LVU159
 572 01e6 4FF47A73 		mov	r3, #1000
 408:Src/ninja_fruit_game.c ****     UTIL_LCDEx_PrintfAt(600, LINE(1), LEFT_MODE, "Time: %lus", game_time);
 573              		.loc 1 408 41 discriminator 1 view .LVU160
 574 01ea D4F81041 		ldr	r4, [r4, #272]
 575              	.LVL56:
 408:Src/ninja_fruit_game.c ****     UTIL_LCDEx_PrintfAt(600, LINE(1), LEFT_MODE, "Time: %lus", game_time);
 576              		.loc 1 408 41 discriminator 1 view .LVU161
 577 01ee 041B     		subs	r4, r0, r4
 408:Src/ninja_fruit_game.c ****     UTIL_LCDEx_PrintfAt(600, LINE(1), LEFT_MODE, "Time: %lus", game_time);
 578              		.loc 1 408 14 discriminator 1 view .LVU162
 579 01f0 B4FBF3F4 		udiv	r4, r4, r3
 580              	.LVL57:
 409:Src/ninja_fruit_game.c **** 
 581              		.loc 1 409 5 is_stmt 1 view .LVU163
 409:Src/ninja_fruit_game.c **** 
 582              		.loc 1 409 30 is_stmt 0 view .LVU164
 583 01f4 FFF7FEFF 		bl	UTIL_LCD_GetFont
 584              	.LVL58:
 409:Src/ninja_fruit_game.c **** 
 585              		.loc 1 409 5 discriminator 1 view .LVU165
 586 01f8 0322     		movs	r2, #3
 587 01fa C188     		ldrh	r1, [r0, #6]
 588 01fc 3C4B     		ldr	r3, .L22+72
 589 01fe 4FF41670 		mov	r0, #600
 590 0202 0094     		str	r4, [sp]
ARM GAS  C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s 			page 21


 591 0204 43E7     		b	.L20
 592              	.LVL59:
 593              	.L8:
 409:Src/ninja_fruit_game.c **** 
 594              		.loc 1 409 5 discriminator 1 view .LVU166
 595              	.LBE17:
 596              	.LBE29:
 597              	.LBB30:
 598              	.LBB28:
 599              	.LBB26:
 372:Src/ninja_fruit_game.c ****         // Draw sliced fruit halves
 600              		.loc 1 372 10 is_stmt 1 view .LVU167
 372:Src/ninja_fruit_game.c ****         // Draw sliced fruit halves
 601              		.loc 1 372 13 is_stmt 0 view .LVU168
 602 0206 012B     		cmp	r3, #1
 603 0208 AFD1     		bne	.L7
 604              	.LBB24:
 374:Src/ninja_fruit_game.c ****         float32_t separation = (elapsed / (float32_t)SLICE_ANIMATION_TIME) * FRUIT_SIZE;
 605              		.loc 1 374 9 is_stmt 1 view .LVU169
 374:Src/ninja_fruit_game.c ****         float32_t separation = (elapsed / (float32_t)SLICE_ANIMATION_TIME) * FRUIT_SIZE;
 606              		.loc 1 374 28 is_stmt 0 view .LVU170
 607 020a FFF7FEFF 		bl	HAL_GetTick
 608              	.LVL60:
 375:Src/ninja_fruit_game.c **** 
 609              		.loc 1 375 9 is_stmt 1 view .LVU171
 374:Src/ninja_fruit_game.c ****         float32_t separation = (elapsed / (float32_t)SLICE_ANIMATION_TIME) * FRUIT_SIZE;
 610              		.loc 1 374 18 is_stmt 0 discriminator 1 view .LVU172
 611 020e AB69     		ldr	r3, [r5, #24]
 375:Src/ninja_fruit_game.c **** 
 612              		.loc 1 375 41 view .LVU173
 613 0210 9FED387A 		vldr.32	s14, .L22+76
 374:Src/ninja_fruit_game.c ****         float32_t separation = (elapsed / (float32_t)SLICE_ANIMATION_TIME) * FRUIT_SIZE;
 614              		.loc 1 374 18 discriminator 1 view .LVU174
 615 0214 C01A     		subs	r0, r0, r3
 616              	.LVL61:
 375:Src/ninja_fruit_game.c **** 
 617              		.loc 1 375 41 view .LVU175
 618 0216 07EE900A 		vmov	s15, r0	@ int
 619 021a F8EE677A 		vcvt.f32.u32	s15, s15
 620 021e 87EE87AA 		vdiv.f32	s20, s15, s14
 375:Src/ninja_fruit_game.c **** 
 621              		.loc 1 375 19 view .LVU176
 622 0222 F3EE0E7A 		vmov.f32	s15, #3.0e+1
 623 0226 F8EEE88A 		vcvt.f32.s32	s17, s17
 624              	.LVL62:
 375:Src/ninja_fruit_game.c **** 
 625              		.loc 1 375 19 view .LVU177
 626 022a 2AEE27AA 		vmul.f32	s20, s20, s15
 627              	.LVL63:
 377:Src/ninja_fruit_game.c ****             // Right slice - left half moves left, right half moves right
 628              		.loc 1 377 9 is_stmt 1 view .LVU178
 377:Src/ninja_fruit_game.c ****             // Right slice - left half moves left, right half moves right
 629              		.loc 1 377 12 is_stmt 0 view .LVU179
 630 022e 2B7F     		ldrb	r3, [r5, #28]	@ zero_extendqisi2
 631 0230 B1EE4ABA 		vneg.f32	s22, s20
 632 0234 F6EE00AA 		vmov.f32	s21, #5.0e-1
 633 0238 B8EEC88A 		vcvt.f32.s32	s16, s16
ARM GAS  C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s 			page 22


 634              	.LVL64:
 377:Src/ninja_fruit_game.c ****             // Right slice - left half moves left, right half moves right
 635              		.loc 1 377 12 view .LVU180
 636 023c F5EE007A 		vmov.f32	s15, #2.5e-1
 379:Src/ninja_fruit_game.c ****             UTIL_LCD_FillCircle(screen_x + separation/2, screen_y + separation/4, FRUIT_SIZE/3, col
 637              		.loc 1 379 42 view .LVU181
 638 0240 B0EE687A 		vmov.f32	s14, s17
 377:Src/ninja_fruit_game.c ****             // Right slice - left half moves left, right half moves right
 639              		.loc 1 377 12 view .LVU182
 640 0244 DBB1     		cbz	r3, .L9
 379:Src/ninja_fruit_game.c ****             UTIL_LCD_FillCircle(screen_x + separation/2, screen_y + separation/4, FRUIT_SIZE/3, col
 641              		.loc 1 379 13 is_stmt 1 view .LVU183
 379:Src/ninja_fruit_game.c ****             UTIL_LCD_FillCircle(screen_x + separation/2, screen_y + separation/4, FRUIT_SIZE/3, col
 642              		.loc 1 379 67 is_stmt 0 view .LVU184
 643 0246 AAEE278A 		vfma.f32	s16, s20, s15
 379:Src/ninja_fruit_game.c ****             UTIL_LCD_FillCircle(screen_x + separation/2, screen_y + separation/4, FRUIT_SIZE/3, col
 644              		.loc 1 379 42 view .LVU185
 645 024a ABEE2A7A 		vfma.f32	s14, s22, s21
 379:Src/ninja_fruit_game.c ****             UTIL_LCD_FillCircle(screen_x + separation/2, screen_y + separation/4, FRUIT_SIZE/3, col
 646              		.loc 1 379 13 view .LVU186
 647 024e FCEEC87A 		vcvt.u32.f32	s15, s16
 648 0252 17EE901A 		vmov	r1, s15	@ int
 649 0256 CDED037A 		vstr.32	s15, [sp, #12]	@ int
 650 025a FCEEC77A 		vcvt.u32.f32	s15, s14
 651 025e 3346     		mov	r3, r6
 652 0260 0A22     		movs	r2, #10
 653 0262 17EE900A 		vmov	r0, s15	@ int
 654              	.LVL65:
 379:Src/ninja_fruit_game.c ****             UTIL_LCD_FillCircle(screen_x + separation/2, screen_y + separation/4, FRUIT_SIZE/3, col
 655              		.loc 1 379 13 view .LVU187
 656 0266 FFF7FEFF 		bl	UTIL_LCD_FillCircle
 657              	.LVL66:
 380:Src/ninja_fruit_game.c ****         } else {
 658              		.loc 1 380 13 is_stmt 1 view .LVU188
 380:Src/ninja_fruit_game.c ****         } else {
 659              		.loc 1 380 42 is_stmt 0 view .LVU189
 660 026a EAEE2A8A 		vfma.f32	s17, s20, s21
 661              	.L19:
 384:Src/ninja_fruit_game.c ****         }
 662              		.loc 1 384 13 view .LVU190
 663 026e FCEEE87A 		vcvt.u32.f32	s15, s17
 664 0272 3346     		mov	r3, r6
 665 0274 0A22     		movs	r2, #10
 666 0276 17EE900A 		vmov	r0, s15	@ int
 667 027a 0399     		ldr	r1, [sp, #12]
 668 027c 73E7     		b	.L18
 669              	.LVL67:
 670              	.L9:
 383:Src/ninja_fruit_game.c ****             UTIL_LCD_FillCircle(screen_x - separation/2, screen_y + separation/4, FRUIT_SIZE/3, col
 671              		.loc 1 383 13 is_stmt 1 view .LVU191
 383:Src/ninja_fruit_game.c ****             UTIL_LCD_FillCircle(screen_x - separation/2, screen_y + separation/4, FRUIT_SIZE/3, col
 672              		.loc 1 383 67 is_stmt 0 view .LVU192
 673 027e AAEE278A 		vfma.f32	s16, s20, s15
 383:Src/ninja_fruit_game.c ****             UTIL_LCD_FillCircle(screen_x - separation/2, screen_y + separation/4, FRUIT_SIZE/3, col
 674              		.loc 1 383 42 view .LVU193
 675 0282 AAEE2A7A 		vfma.f32	s14, s20, s21
 383:Src/ninja_fruit_game.c ****             UTIL_LCD_FillCircle(screen_x - separation/2, screen_y + separation/4, FRUIT_SIZE/3, col
ARM GAS  C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s 			page 23


 676              		.loc 1 383 13 view .LVU194
 677 0286 FCEEC87A 		vcvt.u32.f32	s15, s16
 678 028a 17EE901A 		vmov	r1, s15	@ int
 679 028e CDED037A 		vstr.32	s15, [sp, #12]	@ int
 680 0292 FCEEC77A 		vcvt.u32.f32	s15, s14
 681 0296 3346     		mov	r3, r6
 682 0298 0A22     		movs	r2, #10
 683 029a 17EE900A 		vmov	r0, s15	@ int
 684              	.LVL68:
 383:Src/ninja_fruit_game.c ****             UTIL_LCD_FillCircle(screen_x - separation/2, screen_y + separation/4, FRUIT_SIZE/3, col
 685              		.loc 1 383 13 view .LVU195
 686 029e FFF7FEFF 		bl	UTIL_LCD_FillCircle
 687              	.LVL69:
 384:Src/ninja_fruit_game.c ****         }
 688              		.loc 1 384 13 is_stmt 1 view .LVU196
 384:Src/ninja_fruit_game.c ****         }
 689              		.loc 1 384 42 is_stmt 0 view .LVU197
 690 02a2 EBEE2A8A 		vfma.f32	s17, s22, s21
 691 02a6 E2E7     		b	.L19
 692              	.L23:
 693              		.align	2
 694              	.L22:
 695 02a8 0A000000 		.word	.LC2
 696 02ac 1D000000 		.word	.LC3
 697 02b0 38000000 		.word	.LC4
 698 02b4 55000000 		.word	.LC5
 699 02b8 00000000 		.word	.LC0
 700 02bc 06000000 		.word	.LC1
 701 02c0 6F000000 		.word	.LC6
 702 02c4 0000FF40 		.word	1090453504
 703 02c8 78000000 		.word	.LC7
 704 02cc 83000000 		.word	.LC8
 705 02d0 94000000 		.word	.LC9
 706 02d4 A7000000 		.word	.LC10
 707 02d8 00004844 		.word	1145569280
 708 02dc 0000F043 		.word	1139802112
 709 02e0 C3000000 		.word	.LC11
 710 02e4 CE000000 		.word	.LC12
 711 02e8 0000FFFF 		.word	-65536
 712 02ec D9000000 		.word	.LC13
 713 02f0 E8000000 		.word	.LC14
 714 02f4 0000FA43 		.word	1140457472
 715 02f8 00000000 		.word	fruit_colors
 716              	.LBE24:
 717              	.LBE26:
 718              	.LBE28:
 719              	.LBE30:
 720              		.cfi_endproc
 721              	.LFE3350:
 723              		.section	.text.NinjaGame_Reset,"ax",%progbits
 724              		.align	1
 725              		.global	NinjaGame_Reset
 726              		.syntax unified
 727              		.thumb
 728              		.thumb_func
 730              	NinjaGame_Reset:
 731              	.LVL70:
ARM GAS  C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s 			page 24


 732              	.LFB3353:
 412:Src/ninja_fruit_game.c **** }
 413:Src/ninja_fruit_game.c **** 
 414:Src/ninja_fruit_game.c **** void NinjaGame_Reset(NinjaGame_t *game)
 415:Src/ninja_fruit_game.c **** {
 733              		.loc 1 415 1 is_stmt 1 view -0
 734              		.cfi_startproc
 735              		@ args = 0, pretend = 0, frame = 0
 736              		@ frame_needed = 0, uses_anonymous_args = 0
 416:Src/ninja_fruit_game.c ****     // Reset game state but keep high score for comparison
 417:Src/ninja_fruit_game.c ****     uint32_t high_score = (game->score > 0) ? game->score : 0;
 737              		.loc 1 417 5 view .LVU199
 415:Src/ninja_fruit_game.c ****     // Reset game state but keep high score for comparison
 738              		.loc 1 415 1 is_stmt 0 view .LVU200
 739 0000 10B5     		push	{r4, lr}
 740              		.cfi_def_cfa_offset 8
 741              		.cfi_offset 4, -8
 742              		.cfi_offset 14, -4
 415:Src/ninja_fruit_game.c ****     // Reset game state but keep high score for comparison
 743              		.loc 1 415 1 view .LVU201
 744 0002 0446     		mov	r4, r0
 745              	.LVL71:
 418:Src/ninja_fruit_game.c **** 
 419:Src/ninja_fruit_game.c ****     NinjaGame_Init(game);
 746              		.loc 1 419 5 is_stmt 1 view .LVU202
 747 0004 FFF7FEFF 		bl	NinjaGame_Init
 748              	.LVL72:
 420:Src/ninja_fruit_game.c ****     game->game_started = 1;
 749              		.loc 1 420 5 view .LVU203
 750              		.loc 1 420 24 is_stmt 0 view .LVU204
 751 0008 0123     		movs	r3, #1
 752 000a 84F80D31 		strb	r3, [r4, #269]
 421:Src/ninja_fruit_game.c ****     game->game_start_time = HAL_GetTick();
 753              		.loc 1 421 5 is_stmt 1 view .LVU205
 754              		.loc 1 421 29 is_stmt 0 view .LVU206
 755 000e FFF7FEFF 		bl	HAL_GetTick
 756              	.LVL73:
 757              		.loc 1 421 27 discriminator 1 view .LVU207
 758 0012 C4F81001 		str	r0, [r4, #272]
 422:Src/ninja_fruit_game.c **** 
 423:Src/ninja_fruit_game.c ****     // Could store high score for display
 424:Src/ninja_fruit_game.c **** }
 759              		.loc 1 424 1 view .LVU208
 760 0016 10BD     		pop	{r4, pc}
 761              		.loc 1 424 1 view .LVU209
 762              		.cfi_endproc
 763              	.LFE3353:
 765              		.section	.text.NinjaGame_Update,"ax",%progbits
 766              		.align	1
 767              		.global	NinjaGame_Update
 768              		.syntax unified
 769              		.thumb
 770              		.thumb_func
 772              	NinjaGame_Update:
 773              	.LVL74:
 774              	.LFB3344:
  68:Src/ninja_fruit_game.c ****     uint32_t current_time = HAL_GetTick();
ARM GAS  C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s 			page 25


 775              		.loc 1 68 1 is_stmt 1 view -0
 776              		.cfi_startproc
 777              		@ args = 0, pretend = 0, frame = 0
 778              		@ frame_needed = 0, uses_anonymous_args = 0
  69:Src/ninja_fruit_game.c ****     CheckModeToggle(game);
 779              		.loc 1 69 5 view .LVU211
  68:Src/ninja_fruit_game.c ****     uint32_t current_time = HAL_GetTick();
 780              		.loc 1 68 1 is_stmt 0 view .LVU212
 781 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 782              		.cfi_def_cfa_offset 24
 783              		.cfi_offset 4, -24
 784              		.cfi_offset 5, -20
 785              		.cfi_offset 6, -16
 786              		.cfi_offset 7, -12
 787              		.cfi_offset 8, -8
 788              		.cfi_offset 14, -4
 789 0004 2DED0A8B 		vpush.64	{d8, d9, d10, d11, d12}
 790              		.cfi_def_cfa_offset 64
 791              		.cfi_offset 80, -64
 792              		.cfi_offset 81, -60
 793              		.cfi_offset 82, -56
 794              		.cfi_offset 83, -52
 795              		.cfi_offset 84, -48
 796              		.cfi_offset 85, -44
 797              		.cfi_offset 86, -40
 798              		.cfi_offset 87, -36
 799              		.cfi_offset 88, -32
 800              		.cfi_offset 89, -28
  68:Src/ninja_fruit_game.c ****     uint32_t current_time = HAL_GetTick();
 801              		.loc 1 68 1 view .LVU213
 802 0008 0446     		mov	r4, r0
 803 000a 8846     		mov	r8, r1
 804 000c 1646     		mov	r6, r2
  69:Src/ninja_fruit_game.c ****     CheckModeToggle(game);
 805              		.loc 1 69 29 view .LVU214
 806 000e FFF7FEFF 		bl	HAL_GetTick
 807              	.LVL75:
  69:Src/ninja_fruit_game.c ****     CheckModeToggle(game);
 808              		.loc 1 69 29 view .LVU215
 809 0012 0746     		mov	r7, r0
 810              	.LVL76:
  70:Src/ninja_fruit_game.c ****     // Start game on first gesture detection
 811              		.loc 1 70 5 is_stmt 1 view .LVU216
 812              	.LBB63:
 813              	.LBI63:
  36:Src/ninja_fruit_game.c **** {
 814              		.loc 1 36 13 view .LVU217
 815              	.LBB64:
  38:Src/ninja_fruit_game.c **** 
 816              		.loc 1 38 5 view .LVU218
  38:Src/ninja_fruit_game.c **** 
 817              		.loc 1 38 20 is_stmt 0 view .LVU219
 818 0014 FFF7FEFF 		bl	HAL_GetTick
 819              	.LVL77:
  40:Src/ninja_fruit_game.c ****     {
 820              		.loc 1 40 8 view .LVU220
 821 0018 B4F80C31 		ldrh	r3, [r4, #268]
ARM GAS  C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s 			page 26


  38:Src/ninja_fruit_game.c **** 
 822              		.loc 1 38 20 view .LVU221
 823 001c 0546     		mov	r5, r0
 824              	.LVL78:
  40:Src/ninja_fruit_game.c ****     {
 825              		.loc 1 40 5 is_stmt 1 view .LVU222
  40:Src/ninja_fruit_game.c ****     {
 826              		.loc 1 40 8 is_stmt 0 view .LVU223
 827 001e 13B1     		cbz	r3, .L26
  40:Src/ninja_fruit_game.c ****     {
 828              		.loc 1 40 51 discriminator 1 view .LVU224
 829 0020 94F80C31 		ldrb	r3, [r4, #268]	@ zero_extendqisi2
 830 0024 9BB3     		cbz	r3, .L27
 831              	.L26:
  42:Src/ninja_fruit_game.c ****             (now - last_mode_toggle > 300))
 832              		.loc 1 42 9 is_stmt 1 view .LVU225
  42:Src/ninja_fruit_game.c ****             (now - last_mode_toggle > 300))
 833              		.loc 1 42 14 is_stmt 0 view .LVU226
 834 0026 0020     		movs	r0, #0
 835              	.LVL79:
  42:Src/ninja_fruit_game.c ****             (now - last_mode_toggle > 300))
 836              		.loc 1 42 14 view .LVU227
 837 0028 FFF7FEFF 		bl	BSP_PB_GetState
 838              	.LVL80:
  42:Src/ninja_fruit_game.c ****             (now - last_mode_toggle > 300))
 839              		.loc 1 42 12 discriminator 1 view .LVU228
 840 002c 0128     		cmp	r0, #1
 841 002e 0DD1     		bne	.L28
  43:Src/ninja_fruit_game.c ****         {
 842              		.loc 1 43 18 view .LVU229
 843 0030 CD4A     		ldr	r2, .L87+8
 844 0032 1368     		ldr	r3, [r2]
 845 0034 EB1A     		subs	r3, r5, r3
  42:Src/ninja_fruit_game.c ****             (now - last_mode_toggle > 300))
 846              		.loc 1 42 61 discriminator 1 view .LVU230
 847 0036 B3F5967F 		cmp	r3, #300
 848 003a 07D9     		bls	.L28
  45:Src/ninja_fruit_game.c ****             last_mode_toggle = now;
 849              		.loc 1 45 13 is_stmt 1 view .LVU231
  45:Src/ninja_fruit_game.c ****             last_mode_toggle = now;
 850              		.loc 1 45 76 is_stmt 0 view .LVU232
 851 003c 94F81C31 		ldrb	r3, [r4, #284]	@ zero_extendqisi2
  46:Src/ninja_fruit_game.c ****         }
 852              		.loc 1 46 30 view .LVU233
 853 0040 1560     		str	r5, [r2]
  45:Src/ninja_fruit_game.c ****             last_mode_toggle = now;
 854              		.loc 1 45 76 view .LVU234
 855 0042 B3FA83F3 		clz	r3, r3
 856 0046 5B09     		lsrs	r3, r3, #5
 857 0048 84F81C31 		strb	r3, [r4, #284]
  46:Src/ninja_fruit_game.c ****         }
 858              		.loc 1 46 13 is_stmt 1 view .LVU235
 859              	.L28:
 860              	.LVL81:
  46:Src/ninja_fruit_game.c ****         }
 861              		.loc 1 46 13 is_stmt 0 view .LVU236
 862              	.LBE64:
ARM GAS  C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s 			page 27


 863              	.LBE63:
  72:Src/ninja_fruit_game.c ****         GestureType_t current_gesture = Gesture_GetCurrentDisplayGesture(gesture_detector);
 864              		.loc 1 72 5 is_stmt 1 view .LVU237
  72:Src/ninja_fruit_game.c ****         GestureType_t current_gesture = Gesture_GetCurrentDisplayGesture(gesture_detector);
 865              		.loc 1 72 8 is_stmt 0 view .LVU238
 866 004c B4F80C31 		ldrh	r3, [r4, #268]
 867 0050 6BB9     		cbnz	r3, .L29
 868              	.LBB65:
  73:Src/ninja_fruit_game.c ****         if (current_gesture != GESTURE_NONE) {
 869              		.loc 1 73 9 is_stmt 1 view .LVU239
  73:Src/ninja_fruit_game.c ****         if (current_gesture != GESTURE_NONE) {
 870              		.loc 1 73 41 is_stmt 0 view .LVU240
 871 0052 4046     		mov	r0, r8
 872 0054 FFF7FEFF 		bl	Gesture_GetCurrentDisplayGesture
 873              	.LVL82:
  74:Src/ninja_fruit_game.c ****             game->game_started = 1;
 874              		.loc 1 74 9 is_stmt 1 view .LVU241
  74:Src/ninja_fruit_game.c ****             game->game_started = 1;
 875              		.loc 1 74 12 is_stmt 0 view .LVU242
 876 0058 C0B2     		uxtb	r0, r0
  74:Src/ninja_fruit_game.c ****             game->game_started = 1;
 877              		.loc 1 74 12 view .LVU243
 878 005a 20B1     		cbz	r0, .L25
  75:Src/ninja_fruit_game.c ****             game->game_start_time = current_time;
 879              		.loc 1 75 13 is_stmt 1 view .LVU244
  75:Src/ninja_fruit_game.c ****             game->game_start_time = current_time;
 880              		.loc 1 75 32 is_stmt 0 view .LVU245
 881 005c 0123     		movs	r3, #1
  76:Src/ninja_fruit_game.c ****         }
 882              		.loc 1 76 35 view .LVU246
 883 005e C4F81071 		str	r7, [r4, #272]
  75:Src/ninja_fruit_game.c ****             game->game_start_time = current_time;
 884              		.loc 1 75 32 view .LVU247
 885 0062 84F80D31 		strb	r3, [r4, #269]
  76:Src/ninja_fruit_game.c ****         }
 886              		.loc 1 76 13 is_stmt 1 view .LVU248
 887              	.LVL83:
 888              	.L25:
  76:Src/ninja_fruit_game.c ****         }
 889              		.loc 1 76 13 is_stmt 0 view .LVU249
 890              	.LBE65:
 147:Src/ninja_fruit_game.c **** 
 891              		.loc 1 147 1 view .LVU250
 892 0066 BDEC0A8B 		vldm	sp!, {d8-d12}
 893              		.cfi_remember_state
 894              		.cfi_restore 88
 895              		.cfi_restore 89
 896              		.cfi_restore 86
 897              		.cfi_restore 87
 898              		.cfi_restore 84
 899              		.cfi_restore 85
 900              		.cfi_restore 82
 901              		.cfi_restore 83
 902              		.cfi_restore 80
 903              		.cfi_restore 81
 904              		.cfi_def_cfa_offset 24
 905 006a BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
ARM GAS  C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s 			page 28


 906              	.LVL84:
 907              	.L29:
 908              		.cfi_restore_state
  81:Src/ninja_fruit_game.c ****         // Check for restart gesture
 909              		.loc 1 81 5 is_stmt 1 view .LVU251
  81:Src/ninja_fruit_game.c ****         // Check for restart gesture
 910              		.loc 1 81 8 is_stmt 0 view .LVU252
 911 006e 94F80C31 		ldrb	r3, [r4, #268]	@ zero_extendqisi2
 912 0072 63B1     		cbz	r3, .L27
 913              	.LBB66:
  83:Src/ninja_fruit_game.c ****         if (current_gesture != GESTURE_NONE) {
 914              		.loc 1 83 9 is_stmt 1 view .LVU253
  83:Src/ninja_fruit_game.c ****         if (current_gesture != GESTURE_NONE) {
 915              		.loc 1 83 41 is_stmt 0 view .LVU254
 916 0074 4046     		mov	r0, r8
 917 0076 FFF7FEFF 		bl	Gesture_GetCurrentDisplayGesture
 918              	.LVL85:
  84:Src/ninja_fruit_game.c ****             NinjaGame_Reset(game);
 919              		.loc 1 84 9 is_stmt 1 view .LVU255
  84:Src/ninja_fruit_game.c ****             NinjaGame_Reset(game);
 920              		.loc 1 84 12 is_stmt 0 view .LVU256
 921 007a C0B2     		uxtb	r0, r0
  84:Src/ninja_fruit_game.c ****             NinjaGame_Reset(game);
 922              		.loc 1 84 12 view .LVU257
 923 007c 0028     		cmp	r0, #0
 924 007e F2D0     		beq	.L25
  85:Src/ninja_fruit_game.c ****         }
 925              		.loc 1 85 13 is_stmt 1 view .LVU258
 926              	.LBE66:
 147:Src/ninja_fruit_game.c **** 
 927              		.loc 1 147 1 is_stmt 0 view .LVU259
 928 0080 BDEC0A8B 		vldm	sp!, {d8-d12}
 929              		.cfi_remember_state
 930              		.cfi_restore 88
 931              		.cfi_restore 89
 932              		.cfi_restore 86
 933              		.cfi_restore 87
 934              		.cfi_restore 84
 935              		.cfi_restore 85
 936              		.cfi_restore 82
 937              		.cfi_restore 83
 938              		.cfi_restore 80
 939              		.cfi_restore 81
 940              		.cfi_def_cfa_offset 24
 941              	.LBB67:
  85:Src/ninja_fruit_game.c ****         }
 942              		.loc 1 85 13 view .LVU260
 943 0084 2046     		mov	r0, r4
 944              	.LVL86:
  85:Src/ninja_fruit_game.c ****         }
 945              		.loc 1 85 13 view .LVU261
 946              	.LBE67:
 147:Src/ninja_fruit_game.c **** 
 947              		.loc 1 147 1 view .LVU262
 948 0086 BDE8F041 		pop	{r4, r5, r6, r7, r8, lr}
 949              		.cfi_restore 14
 950              		.cfi_restore 8
ARM GAS  C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s 			page 29


 951              		.cfi_restore 7
 952              		.cfi_restore 6
 953              		.cfi_restore 5
 954              		.cfi_restore 4
 955              		.cfi_def_cfa_offset 0
 956              	.LVL87:
 957              	.LBB68:
  85:Src/ninja_fruit_game.c ****         }
 958              		.loc 1 85 13 view .LVU263
 959 008a FFF7FEBF 		b	NinjaGame_Reset
 960              	.LVL88:
 961              	.L27:
 962              		.cfi_restore_state
  85:Src/ninja_fruit_game.c ****         }
 963              		.loc 1 85 13 view .LVU264
 964              	.LBE68:
  91:Src/ninja_fruit_game.c ****     game->level = (game_time / 30000) + 1; // Increase level every 30 seconds
 965              		.loc 1 91 5 is_stmt 1 view .LVU265
  92:Src/ninja_fruit_game.c ****     game->spawn_rate_multiplier = 1.0f + (game->level - 1) * 0.3f;
 966              		.loc 1 92 5 view .LVU266
  92:Src/ninja_fruit_game.c ****     game->spawn_rate_multiplier = 1.0f + (game->level - 1) * 0.3f;
 967              		.loc 1 92 30 is_stmt 0 view .LVU267
 968 008e 47F23052 		movw	r2, #30000
  91:Src/ninja_fruit_game.c ****     game->level = (game_time / 30000) + 1; // Increase level every 30 seconds
 969              		.loc 1 91 14 view .LVU268
 970 0092 D4F81031 		ldr	r3, [r4, #272]
  93:Src/ninja_fruit_game.c **** 
 971              		.loc 1 93 40 view .LVU269
 972 0096 DFEDB56A 		vldr.32	s13, .L87+12
  91:Src/ninja_fruit_game.c ****     game->level = (game_time / 30000) + 1; // Increase level every 30 seconds
 973              		.loc 1 91 14 view .LVU270
 974 009a FB1A     		subs	r3, r7, r3
 975              	.LVL89:
  92:Src/ninja_fruit_game.c ****     game->spawn_rate_multiplier = 1.0f + (game->level - 1) * 0.3f;
 976              		.loc 1 92 30 view .LVU271
 977 009c B3FBF2F3 		udiv	r3, r3, r2
 978              	.LVL90:
  93:Src/ninja_fruit_game.c **** 
 979              		.loc 1 93 60 view .LVU272
 980 00a0 07EE903A 		vmov	s15, r3	@ int
  93:Src/ninja_fruit_game.c **** 
 981              		.loc 1 93 40 view .LVU273
 982 00a4 B7EE007A 		vmov.f32	s14, #1.0e+0
  93:Src/ninja_fruit_game.c **** 
 983              		.loc 1 93 60 view .LVU274
 984 00a8 F8EEE77A 		vcvt.f32.s32	s15, s15
  93:Src/ninja_fruit_game.c **** 
 985              		.loc 1 93 40 view .LVU275
 986 00ac A7EEA67A 		vfma.f32	s14, s15, s13
  96:Src/ninja_fruit_game.c ****     if (current_time - game->last_spawn_time > spawn_interval) {
 987              		.loc 1 96 52 view .LVU276
 988 00b0 DFEDAF6A 		vldr.32	s13, .L87+16
 989 00b4 C6EE877A 		vdiv.f32	s15, s13, s14
  96:Src/ninja_fruit_game.c ****     if (current_time - game->last_spawn_time > spawn_interval) {
 990              		.loc 1 96 14 view .LVU277
 991 00b8 FCEEE77A 		vcvt.u32.f32	s15, s15
  92:Src/ninja_fruit_game.c ****     game->spawn_rate_multiplier = 1.0f + (game->level - 1) * 0.3f;
ARM GAS  C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s 			page 30


 992              		.loc 1 92 39 view .LVU278
 993 00bc 5A1C     		adds	r2, r3, #1
  92:Src/ninja_fruit_game.c ****     game->spawn_rate_multiplier = 1.0f + (game->level - 1) * 0.3f;
 994              		.loc 1 92 17 view .LVU279
 995 00be C4F81421 		str	r2, [r4, #276]
  93:Src/ninja_fruit_game.c **** 
 996              		.loc 1 93 5 is_stmt 1 view .LVU280
  97:Src/ninja_fruit_game.c ****         SpawnFruit(game);
 997              		.loc 1 97 8 is_stmt 0 view .LVU281
 998 00c2 17EE902A 		vmov	r2, s15	@ int
  97:Src/ninja_fruit_game.c ****         SpawnFruit(game);
 999              		.loc 1 97 22 view .LVU282
 1000 00c6 D4F80831 		ldr	r3, [r4, #264]
  93:Src/ninja_fruit_game.c **** 
 1001              		.loc 1 93 33 view .LVU283
 1002 00ca 84ED467A 		vstr.32	s14, [r4, #280]
  96:Src/ninja_fruit_game.c ****     if (current_time - game->last_spawn_time > spawn_interval) {
 1003              		.loc 1 96 5 is_stmt 1 view .LVU284
 1004              	.LVL91:
  97:Src/ninja_fruit_game.c ****         SpawnFruit(game);
 1005              		.loc 1 97 5 view .LVU285
  97:Src/ninja_fruit_game.c ****         SpawnFruit(game);
 1006              		.loc 1 97 22 is_stmt 0 view .LVU286
 1007 00ce FB1A     		subs	r3, r7, r3
  97:Src/ninja_fruit_game.c ****         SpawnFruit(game);
 1008              		.loc 1 97 8 view .LVU287
 1009 00d0 9342     		cmp	r3, r2
 1010 00d2 57D9     		bls	.L33
 1011              	.LBB69:
 1012              	.LBB70:
 152:Src/ninja_fruit_game.c ****         if (game->fruits[i].state == FRUIT_STATE_INACTIVE) {
 1013              		.loc 1 152 14 view .LVU288
 1014 00d4 0022     		movs	r2, #0
 153:Src/ninja_fruit_game.c ****             Fruit_t *fruit = &game->fruits[i];
 1015              		.loc 1 153 28 view .LVU289
 1016 00d6 0823     		movs	r3, #8
 1017 00d8 04F11101 		add	r1, r4, #17
 1018              	.L36:
 1019              	.LVL92:
 153:Src/ninja_fruit_game.c ****             Fruit_t *fruit = &game->fruits[i];
 1020              		.loc 1 153 9 is_stmt 1 view .LVU290
 1021 00dc 5501     		lsls	r5, r2, #5
 153:Src/ninja_fruit_game.c ****             Fruit_t *fruit = &game->fruits[i];
 1022              		.loc 1 153 12 is_stmt 0 view .LVU291
 1023 00de 485D     		ldrb	r0, [r1, r5]	@ zero_extendqisi2
 1024 00e0 0328     		cmp	r0, #3
 1025 00e2 40F09F80 		bne	.L34
 1026              	.LBB71:
 154:Src/ninja_fruit_game.c **** 
 1027              		.loc 1 154 13 is_stmt 1 view .LVU292
 1028              	.LVL93:
 157:Src/ninja_fruit_game.c ****             fruit->y = 0.03 + (FRUIT_SIZE/2)/SCREEN_HEIGHT;
 1029              		.loc 1 157 13 view .LVU293
 157:Src/ninja_fruit_game.c ****             fruit->y = 0.03 + (FRUIT_SIZE/2)/SCREEN_HEIGHT;
 1030              		.loc 1 157 33 is_stmt 0 view .LVU294
 1031 00e6 FFF7FEFF 		bl	rand
 1032              	.LVL94:
ARM GAS  C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s 			page 31


 157:Src/ninja_fruit_game.c ****             fruit->y = 0.03 + (FRUIT_SIZE/2)/SCREEN_HEIGHT;
 1033              		.loc 1 157 40 discriminator 1 view .LVU295
 1034 00ea 4FF4FA73 		mov	r3, #500
 1035 00ee 90FBF3F2 		sdiv	r2, r0, r3
 1036 00f2 02FB1300 		mls	r0, r2, r3, r0
 157:Src/ninja_fruit_game.c ****             fruit->y = 0.03 + (FRUIT_SIZE/2)/SCREEN_HEIGHT;
 1037              		.loc 1 157 47 discriminator 1 view .LVU296
 1038 00f6 07EE900A 		vmov	s15, r0	@ int
 1039 00fa 9FED9E8A 		vldr.32	s16, .L87+20
 1040 00fe F8EEE77A 		vcvt.f32.s32	s15, s15
 1041 0102 87EE887A 		vdiv.f32	s14, s15, s16
 157:Src/ninja_fruit_game.c ****             fruit->y = 0.03 + (FRUIT_SIZE/2)/SCREEN_HEIGHT;
 1042              		.loc 1 157 30 discriminator 1 view .LVU297
 1043 0106 F5EE007A 		vmov.f32	s15, #2.5e-1
 1044 010a 77EE277A 		vadd.f32	s15, s14, s15
 158:Src/ninja_fruit_game.c **** 
 1045              		.loc 1 158 22 view .LVU298
 1046 010e 9A4B     		ldr	r3, .L87+24
 1047 0110 2544     		add	r5, r5, r4
 157:Src/ninja_fruit_game.c ****             fruit->y = 0.03 + (FRUIT_SIZE/2)/SCREEN_HEIGHT;
 1048              		.loc 1 157 22 discriminator 1 view .LVU299
 1049 0112 C5ED007A 		vstr.32	s15, [r5]
 158:Src/ninja_fruit_game.c **** 
 1050              		.loc 1 158 13 is_stmt 1 view .LVU300
 158:Src/ninja_fruit_game.c **** 
 1051              		.loc 1 158 22 is_stmt 0 view .LVU301
 1052 0116 6B60     		str	r3, [r5, #4]	@ float
 161:Src/ninja_fruit_game.c ****             fruit->velocity_y = FRUIT_FALL_SPEED + ((rand() % 50) / 1000.0f); // Random fall speed 
 1053              		.loc 1 161 13 is_stmt 1 view .LVU302
 161:Src/ninja_fruit_game.c ****             fruit->velocity_y = FRUIT_FALL_SPEED + ((rand() % 50) / 1000.0f); // Random fall speed 
 1054              		.loc 1 161 35 is_stmt 0 view .LVU303
 1055 0118 FFF7FEFF 		bl	rand
 1056              	.LVL95:
 161:Src/ninja_fruit_game.c ****             fruit->velocity_y = FRUIT_FALL_SPEED + ((rand() % 50) / 1000.0f); // Random fall speed 
 1057              		.loc 1 161 42 discriminator 1 view .LVU304
 1058 011c 6423     		movs	r3, #100
 1059 011e 90FBF3F2 		sdiv	r2, r0, r3
 1060 0122 02FB1300 		mls	r0, r2, r3, r0
 161:Src/ninja_fruit_game.c ****             fruit->velocity_y = FRUIT_FALL_SPEED + ((rand() % 50) / 1000.0f); // Random fall speed 
 1061              		.loc 1 161 49 discriminator 1 view .LVU305
 1062 0126 3238     		subs	r0, r0, #50
 161:Src/ninja_fruit_game.c ****             fruit->velocity_y = FRUIT_FALL_SPEED + ((rand() % 50) / 1000.0f); // Random fall speed 
 1063              		.loc 1 161 55 discriminator 1 view .LVU306
 1064 0128 07EE900A 		vmov	s15, r0	@ int
 1065 012c DFED936A 		vldr.32	s13, .L87+28
 1066 0130 F8EEE77A 		vcvt.f32.s32	s15, s15
 1067 0134 87EEA67A 		vdiv.f32	s14, s15, s13
 161:Src/ninja_fruit_game.c ****             fruit->velocity_y = FRUIT_FALL_SPEED + ((rand() % 50) / 1000.0f); // Random fall speed 
 1068              		.loc 1 161 31 discriminator 1 view .LVU307
 1069 0138 85ED037A 		vstr.32	s14, [r5, #12]
 162:Src/ninja_fruit_game.c **** 
 1070              		.loc 1 162 13 is_stmt 1 view .LVU308
 162:Src/ninja_fruit_game.c **** 
 1071              		.loc 1 162 54 is_stmt 0 view .LVU309
 1072 013c FFF7FEFF 		bl	rand
 1073              	.LVL96:
 162:Src/ninja_fruit_game.c **** 
ARM GAS  C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s 			page 32


 1074              		.loc 1 162 61 discriminator 1 view .LVU310
 1075 0140 3223     		movs	r3, #50
 1076 0142 90FBF3F2 		sdiv	r2, r0, r3
 1077 0146 02FB1300 		mls	r0, r2, r3, r0
 162:Src/ninja_fruit_game.c **** 
 1078              		.loc 1 162 67 discriminator 1 view .LVU311
 1079 014a 07EE900A 		vmov	s15, r0	@ int
 1080 014e F8EEE77A 		vcvt.f32.s32	s15, s15
 1081 0152 87EE887A 		vdiv.f32	s14, s15, s16
 162:Src/ninja_fruit_game.c **** 
 1082              		.loc 1 162 50 discriminator 1 view .LVU312
 1083 0156 DFED8A7A 		vldr.32	s15, .L87+32
 1084 015a 77EE277A 		vadd.f32	s15, s14, s15
 162:Src/ninja_fruit_game.c **** 
 1085              		.loc 1 162 31 discriminator 1 view .LVU313
 1086 015e C5ED027A 		vstr.32	s15, [r5, #8]
 165:Src/ninja_fruit_game.c ****             fruit->state = FRUIT_STATE_FALLING;
 1087              		.loc 1 165 13 is_stmt 1 view .LVU314
 165:Src/ninja_fruit_game.c ****             fruit->state = FRUIT_STATE_FALLING;
 1088              		.loc 1 165 27 is_stmt 0 view .LVU315
 1089 0162 FFF7FEFF 		bl	rand
 1090              	.LVL97:
 165:Src/ninja_fruit_game.c ****             fruit->state = FRUIT_STATE_FALLING;
 1091              		.loc 1 165 34 discriminator 1 view .LVU316
 1092 0166 4242     		rsbs	r2, r0, #0
 1093 0168 00F00303 		and	r3, r0, #3
 1094 016c 02F00302 		and	r2, r2, #3
 1095 0170 53EA42B3 		csneg	r3, r3, r2, mi
 1096 0174 2B74     		strb	r3, [r5, #16]
 166:Src/ninja_fruit_game.c ****             fruit->spawn_time = HAL_GetTick();
 1097              		.loc 1 166 13 is_stmt 1 view .LVU317
 166:Src/ninja_fruit_game.c ****             fruit->spawn_time = HAL_GetTick();
 1098              		.loc 1 166 26 is_stmt 0 view .LVU318
 1099 0176 0023     		movs	r3, #0
 1100 0178 6B74     		strb	r3, [r5, #17]
 167:Src/ninja_fruit_game.c **** 
 1101              		.loc 1 167 13 is_stmt 1 view .LVU319
 167:Src/ninja_fruit_game.c **** 
 1102              		.loc 1 167 33 is_stmt 0 view .LVU320
 1103 017a FFF7FEFF 		bl	HAL_GetTick
 1104              	.LVL98:
 167:Src/ninja_fruit_game.c **** 
 1105              		.loc 1 167 31 discriminator 1 view .LVU321
 1106 017e 6861     		str	r0, [r5, #20]
 169:Src/ninja_fruit_game.c ****         }
 1107              		.loc 1 169 13 is_stmt 1 view .LVU322
 1108              	.LVL99:
 1109              	.L35:
 169:Src/ninja_fruit_game.c ****         }
 1110              		.loc 1 169 13 is_stmt 0 view .LVU323
 1111              	.LBE71:
 1112              	.LBE70:
 1113              	.LBE69:
  99:Src/ninja_fruit_game.c ****     }
 1114              		.loc 1 99 9 is_stmt 1 view .LVU324
  99:Src/ninja_fruit_game.c ****     }
 1115              		.loc 1 99 31 is_stmt 0 view .LVU325
ARM GAS  C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s 			page 33


 1116 0180 C4F80871 		str	r7, [r4, #264]
 1117              	.L33:
 103:Src/ninja_fruit_game.c **** 
 1118              		.loc 1 103 5 is_stmt 1 view .LVU326
 1119              	.LVL100:
 1120              	.LBB73:
 1121              	.LBI73:
 174:Src/ninja_fruit_game.c **** {
 1122              		.loc 1 174 13 view .LVU327
 1123              	.LBB74:
 176:Src/ninja_fruit_game.c ****     float32_t dt = 0.016f; // Assuming ~60fps update rate
 1124              		.loc 1 176 5 view .LVU328
 176:Src/ninja_fruit_game.c ****     float32_t dt = 0.016f; // Assuming ~60fps update rate
 1125              		.loc 1 176 29 is_stmt 0 view .LVU329
 1126 0184 FFF7FEFF 		bl	HAL_GetTick
 1127              	.LVL101:
 177:Src/ninja_fruit_game.c **** 
 1128              		.loc 1 177 5 is_stmt 1 view .LVU330
 179:Src/ninja_fruit_game.c ****         Fruit_t *fruit = &game->fruits[i];
 1129              		.loc 1 179 5 view .LVU331
 1130              	.LBB75:
 179:Src/ninja_fruit_game.c ****         Fruit_t *fruit = &game->fruits[i];
 1131              		.loc 1 179 10 view .LVU332
 179:Src/ninja_fruit_game.c ****         Fruit_t *fruit = &game->fruits[i];
 1132              		.loc 1 179 23 discriminator 1 view .LVU333
 1133 0188 2546     		mov	r5, r4
 1134              	.LBE75:
 176:Src/ninja_fruit_game.c ****     float32_t dt = 0.016f; // Assuming ~60fps update rate
 1135              		.loc 1 176 29 is_stmt 0 view .LVU334
 1136 018a 2346     		mov	r3, r4
 1137              	.LBB78:
 1138              	.LBB76:
 184:Src/ninja_fruit_game.c ****             fruit->x += fruit->velocity_x * dt;
 1139              		.loc 1 184 22 view .LVU335
 1140 018c DFED7D6A 		vldr.32	s13, .L87+36
 188:Src/ninja_fruit_game.c ****                 fruit->state = FRUIT_STATE_MISSED;
 1141              		.loc 1 188 16 view .LVU336
 1142 0190 9FED735B 		vldr.64	d5, .L87
 189:Src/ninja_fruit_game.c ****                 game->missed_count++;
 1143              		.loc 1 189 30 view .LVU337
 1144 0194 4FF0020C 		mov	ip, #2
 1145 0198 0822     		movs	r2, #8
 1146 019a 04F58077 		add	r7, r4, #256
 1147              	.LVL102:
 1148              	.L42:
 180:Src/ninja_fruit_game.c **** 
 1149              		.loc 1 180 9 is_stmt 1 view .LVU338
 182:Src/ninja_fruit_game.c ****             // Update position
 1150              		.loc 1 182 9 view .LVU339
 182:Src/ninja_fruit_game.c ****             // Update position
 1151              		.loc 1 182 18 is_stmt 0 view .LVU340
 1152 019e 597C     		ldrb	r1, [r3, #17]	@ zero_extendqisi2
 182:Src/ninja_fruit_game.c ****             // Update position
 1153              		.loc 1 182 12 view .LVU341
 1154 01a0 0029     		cmp	r1, #0
 1155 01a2 45D1     		bne	.L37
 184:Src/ninja_fruit_game.c ****             fruit->x += fruit->velocity_x * dt;
ARM GAS  C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s 			page 34


 1156              		.loc 1 184 13 is_stmt 1 view .LVU342
 184:Src/ninja_fruit_game.c ****             fruit->x += fruit->velocity_x * dt;
 1157              		.loc 1 184 22 is_stmt 0 view .LVU343
 1158 01a4 D3ED027A 		vldr.32	s15, [r3, #8]
 1159 01a8 93ED017A 		vldr.32	s14, [r3, #4]
 185:Src/ninja_fruit_game.c **** 
 1160              		.loc 1 185 22 view .LVU344
 1161 01ac 93ED036A 		vldr.32	s12, [r3, #12]
 184:Src/ninja_fruit_game.c ****             fruit->x += fruit->velocity_x * dt;
 1162              		.loc 1 184 22 view .LVU345
 1163 01b0 A7EEA67A 		vfma.f32	s14, s15, s13
 185:Src/ninja_fruit_game.c **** 
 1164              		.loc 1 185 22 view .LVU346
 1165 01b4 D3ED007A 		vldr.32	s15, [r3]
 1166 01b8 E6EE267A 		vfma.f32	s15, s12, s13
 184:Src/ninja_fruit_game.c ****             fruit->x += fruit->velocity_x * dt;
 1167              		.loc 1 184 22 view .LVU347
 1168 01bc 83ED017A 		vstr.32	s14, [r3, #4]
 185:Src/ninja_fruit_game.c **** 
 1169              		.loc 1 185 13 is_stmt 1 view .LVU348
 185:Src/ninja_fruit_game.c **** 
 1170              		.loc 1 185 22 is_stmt 0 view .LVU349
 1171 01c0 C3ED007A 		vstr.32	s15, [r3]
 188:Src/ninja_fruit_game.c ****                 fruit->state = FRUIT_STATE_MISSED;
 1172              		.loc 1 188 13 is_stmt 1 view .LVU350
 188:Src/ninja_fruit_game.c ****                 fruit->state = FRUIT_STATE_MISSED;
 1173              		.loc 1 188 22 is_stmt 0 view .LVU351
 1174 01c4 B7EEC77A 		vcvt.f64.f32	d7, s14
 188:Src/ninja_fruit_game.c ****                 fruit->state = FRUIT_STATE_MISSED;
 1175              		.loc 1 188 16 view .LVU352
 1176 01c8 B4EEC57B 		vcmpe.f64	d7, d5
 1177 01cc F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1178 01d0 06DD     		ble	.L39
 189:Src/ninja_fruit_game.c ****                 game->missed_count++;
 1179              		.loc 1 189 17 is_stmt 1 view .LVU353
 189:Src/ninja_fruit_game.c ****                 game->missed_count++;
 1180              		.loc 1 189 30 is_stmt 0 view .LVU354
 1181 01d2 83F811C0 		strb	ip, [r3, #17]
 190:Src/ninja_fruit_game.c ****             }
 1182              		.loc 1 190 17 is_stmt 1 view .LVU355
 190:Src/ninja_fruit_game.c ****             }
 1183              		.loc 1 190 35 is_stmt 0 view .LVU356
 1184 01d6 D4F80411 		ldr	r1, [r4, #260]
 1185 01da 0131     		adds	r1, r1, #1
 1186 01dc C4F80411 		str	r1, [r4, #260]
 1187              	.L39:
 190:Src/ninja_fruit_game.c ****             }
 1188              		.loc 1 190 35 view .LVU357
 1189              	.LBE76:
 179:Src/ninja_fruit_game.c ****         Fruit_t *fruit = &game->fruits[i];
 1190              		.loc 1 179 38 is_stmt 1 discriminator 2 view .LVU358
 179:Src/ninja_fruit_game.c ****         Fruit_t *fruit = &game->fruits[i];
 1191              		.loc 1 179 23 discriminator 1 view .LVU359
 1192 01e0 013A     		subs	r2, r2, #1
 1193 01e2 03F12003 		add	r3, r3, #32
 1194 01e6 DAD1     		bne	.L42
 1195              	.LVL103:
ARM GAS  C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s 			page 35


 179:Src/ninja_fruit_game.c ****         Fruit_t *fruit = &game->fruits[i];
 1196              		.loc 1 179 23 is_stmt 0 discriminator 1 view .LVU360
 1197              	.LBE78:
 1198              	.LBE74:
 1199              	.LBE73:
 105:Src/ninja_fruit_game.c ****             // Check for slicing gestures
 1200              		.loc 1 105 5 is_stmt 1 view .LVU361
 105:Src/ninja_fruit_game.c ****             // Check for slicing gestures
 1201              		.loc 1 105 8 is_stmt 0 view .LVU362
 1202 01e8 94F81C31 		ldrb	r3, [r4, #284]	@ zero_extendqisi2
 1203 01ec 002B     		cmp	r3, #0
 1204 01ee 40F0D780 		bne	.L43
 1205              	.LBB81:
 107:Src/ninja_fruit_game.c **** 
 1206              		.loc 1 107 13 is_stmt 1 view .LVU363
 107:Src/ninja_fruit_game.c **** 
 1207              		.loc 1 107 46 is_stmt 0 view .LVU364
 1208 01f2 4046     		mov	r0, r8
 1209 01f4 FFF7FEFF 		bl	Gesture_GetCurrentDisplayGesture
 1210              	.LVL104:
 107:Src/ninja_fruit_game.c **** 
 1211              		.loc 1 107 27 discriminator 1 view .LVU365
 1212 01f8 C0B2     		uxtb	r0, r0
 1213              	.LVL105:
 109:Src/ninja_fruit_game.c ****                 detected_gesture == GESTURE_LEFT_ARM_SWIPE_RIGHT ||
 1214              		.loc 1 109 13 is_stmt 1 view .LVU366
 109:Src/ninja_fruit_game.c ****                 detected_gesture == GESTURE_LEFT_ARM_SWIPE_RIGHT ||
 1215              		.loc 1 109 16 is_stmt 0 view .LVU367
 1216 01fa C31E     		subs	r3, r0, #3
 1217 01fc 012B     		cmp	r3, #1
 1218 01fe 24D9     		bls	.L44
 110:Src/ninja_fruit_game.c ****                 detected_gesture == GESTURE_RIGHT_ARM_SWIPE_LEFT ||
 1219              		.loc 1 110 66 view .LVU368
 1220 0200 431E     		subs	r3, r0, #1
 1221 0202 012B     		cmp	r3, #1
 1222 0204 03D9     		bls	.L45
 112:Src/ninja_fruit_game.c ****                 detected_gesture == GESTURE_SWORD_OVERHEAD_STRIKE ||
 1223              		.loc 1 112 67 view .LVU369
 1224 0206 831F     		subs	r3, r0, #6
 1225 0208 012B     		cmp	r3, #1
 1226 020a 00F29980 		bhi	.L56
 1227              	.L45:
 1228              	.LBB82:
 117:Src/ninja_fruit_game.c **** 
 1229              		.loc 1 117 17 is_stmt 1 view .LVU370
 120:Src/ninja_fruit_game.c ****                     swipe.end_x = keypoints[KEYPOINT_LEFT_WRIST].x_center;
 1230              		.loc 1 120 17 view .LVU371
 124:Src/ninja_fruit_game.c ****                     swipe.end_y = keypoints[KEYPOINT_RIGHT_WRIST].y_center;
 1231              		.loc 1 124 21 view .LVU372
 1232 020e 0628     		cmp	r0, #6
 124:Src/ninja_fruit_game.c ****                     swipe.end_y = keypoints[KEYPOINT_RIGHT_WRIST].y_center;
 1233              		.loc 1 124 66 is_stmt 0 view .LVU373
 1234 0210 96ED12AA 		vldr.32	s20, [r6, #72]
 1235              	.LVL106:
 125:Src/ninja_fruit_game.c ****                 }
 1236              		.loc 1 125 21 is_stmt 1 view .LVU374
 125:Src/ninja_fruit_game.c ****                 }
ARM GAS  C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s 			page 36


 1237              		.loc 1 125 66 is_stmt 0 view .LVU375
 1238 0214 D6ED13BA 		vldr.32	s23, [r6, #76]
 1239              	.LVL107:
 128:Src/ninja_fruit_game.c ****                                           detected_gesture == GESTURE_RIGHT_ARM_SWIPE_RIGHT) ? -0.2
 1240              		.loc 1 128 28 is_stmt 1 view .LVU376
 128:Src/ninja_fruit_game.c ****                                           detected_gesture == GESTURE_RIGHT_ARM_SWIPE_RIGHT) ? -0.2
 1241              		.loc 1 128 28 is_stmt 0 view .LVU377
 1242 0218 1DD1     		bne	.L48
 125:Src/ninja_fruit_game.c ****                 }
 1243              		.loc 1 125 66 view .LVU378
 1244 021a 9FED5B8A 		vldr.32	s16, .L87+40
 1245 021e 9FED5B9A 		vldr.32	s18, .L87+44
 1246 0222 21E0     		b	.L47
 1247              	.LVL108:
 1248              	.L34:
 125:Src/ninja_fruit_game.c ****                 }
 1249              		.loc 1 125 66 view .LVU379
 1250              	.LBE82:
 1251              	.LBE81:
 1252              	.LBB103:
 1253              	.LBB72:
 152:Src/ninja_fruit_game.c ****         if (game->fruits[i].state == FRUIT_STATE_INACTIVE) {
 1254              		.loc 1 152 38 is_stmt 1 discriminator 2 view .LVU380
 152:Src/ninja_fruit_game.c ****         if (game->fruits[i].state == FRUIT_STATE_INACTIVE) {
 1255              		.loc 1 152 23 is_stmt 0 discriminator 1 view .LVU381
 1256 0224 013B     		subs	r3, r3, #1
 152:Src/ninja_fruit_game.c ****         if (game->fruits[i].state == FRUIT_STATE_INACTIVE) {
 1257              		.loc 1 152 38 discriminator 2 view .LVU382
 1258 0226 02F10102 		add	r2, r2, #1
 1259              	.LVL109:
 152:Src/ninja_fruit_game.c ****         if (game->fruits[i].state == FRUIT_STATE_INACTIVE) {
 1260              		.loc 1 152 23 is_stmt 1 discriminator 1 view .LVU383
 1261 022a 7FF457AF 		bne	.L36
 1262 022e A7E7     		b	.L35
 1263              	.LVL110:
 1264              	.L37:
 152:Src/ninja_fruit_game.c ****         if (game->fruits[i].state == FRUIT_STATE_INACTIVE) {
 1265              		.loc 1 152 23 is_stmt 0 discriminator 1 view .LVU384
 1266              	.LBE72:
 1267              	.LBE103:
 1268              	.LBB104:
 1269              	.LBB80:
 1270              	.LBB79:
 1271              	.LBB77:
 193:Src/ninja_fruit_game.c ****             // Remove sliced fruits after animation time
 1272              		.loc 1 193 14 is_stmt 1 view .LVU385
 193:Src/ninja_fruit_game.c ****             // Remove sliced fruits after animation time
 1273              		.loc 1 193 17 is_stmt 0 view .LVU386
 1274 0230 0129     		cmp	r1, #1
 1275 0232 07D1     		bne	.L40
 195:Src/ninja_fruit_game.c ****                 fruit->state = FRUIT_STATE_INACTIVE;
 1276              		.loc 1 195 13 is_stmt 1 view .LVU387
 195:Src/ninja_fruit_game.c ****                 fruit->state = FRUIT_STATE_INACTIVE;
 1277              		.loc 1 195 30 is_stmt 0 view .LVU388
 1278 0234 9969     		ldr	r1, [r3, #24]
 1279 0236 411A     		subs	r1, r0, r1
 195:Src/ninja_fruit_game.c ****                 fruit->state = FRUIT_STATE_INACTIVE;
ARM GAS  C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s 			page 37


 1280              		.loc 1 195 16 view .LVU389
 1281 0238 B1F5FA7F 		cmp	r1, #500
 1282 023c D0D9     		bls	.L39
 1283              	.L85:
 201:Src/ninja_fruit_game.c ****         }
 1284              		.loc 1 201 13 is_stmt 1 view .LVU390
 201:Src/ninja_fruit_game.c ****         }
 1285              		.loc 1 201 26 is_stmt 0 view .LVU391
 1286 023e 0321     		movs	r1, #3
 1287 0240 5974     		strb	r1, [r3, #17]
 1288 0242 CDE7     		b	.L39
 1289              	.L40:
 199:Src/ninja_fruit_game.c ****             // Remove missed fruits immediately
 1290              		.loc 1 199 14 is_stmt 1 view .LVU392
 199:Src/ninja_fruit_game.c ****             // Remove missed fruits immediately
 1291              		.loc 1 199 17 is_stmt 0 view .LVU393
 1292 0244 0229     		cmp	r1, #2
 1293 0246 CBD1     		bne	.L39
 1294 0248 F9E7     		b	.L85
 1295              	.LVL111:
 1296              	.L44:
 199:Src/ninja_fruit_game.c ****             // Remove missed fruits immediately
 1297              		.loc 1 199 17 view .LVU394
 1298              	.LBE77:
 1299              	.LBE79:
 1300              	.LBE80:
 1301              	.LBE104:
 1302              	.LBB105:
 1303              	.LBB101:
 121:Src/ninja_fruit_game.c ****                     swipe.end_y = keypoints[KEYPOINT_LEFT_WRIST].y_center;
 1304              		.loc 1 121 21 is_stmt 1 view .LVU395
 1305 024a 0428     		cmp	r0, #4
 121:Src/ninja_fruit_game.c ****                     swipe.end_y = keypoints[KEYPOINT_LEFT_WRIST].y_center;
 1306              		.loc 1 121 65 is_stmt 0 view .LVU396
 1307 024c 96ED0FAA 		vldr.32	s20, [r6, #60]
 1308              	.LVL112:
 122:Src/ninja_fruit_game.c ****                 } else {
 1309              		.loc 1 122 21 is_stmt 1 view .LVU397
 122:Src/ninja_fruit_game.c ****                 } else {
 1310              		.loc 1 122 65 is_stmt 0 view .LVU398
 1311 0250 D6ED10BA 		vldr.32	s23, [r6, #64]
 1312              	.LVL113:
 128:Src/ninja_fruit_game.c ****                                           detected_gesture == GESTURE_RIGHT_ARM_SWIPE_RIGHT) ? -0.2
 1313              		.loc 1 128 28 is_stmt 1 view .LVU399
 1314 0254 7CD0     		beq	.L62
 1315              	.L48:
 1316              	.LVL114:
 125:Src/ninja_fruit_game.c ****                 }
 1317              		.loc 1 125 66 is_stmt 0 view .LVU400
 1318 0256 9FED4E8A 		vldr.32	s16, .L87+48
 1319 025a DFED4B7A 		vldr.32	s15, .L87+40
 1320 025e 0228     		cmp	r0, #2
 1321 0260 08FE278A 		vseleq.f32	s16, s16, s15
 1322              	.L86:
 122:Src/ninja_fruit_game.c ****                 } else {
 1323              		.loc 1 122 65 view .LVU401
 1324 0264 9FED4B9A 		vldr.32	s18, .L87+52
ARM GAS  C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s 			page 38


 1325              	.L47:
 1326              	.LVL115:
 131:Src/ninja_fruit_game.c **** 			  swipe.start_y = swipe.end_y + dy;
 1327              		.loc 1 131 9 is_stmt 1 view .LVU402
 131:Src/ninja_fruit_game.c **** 			  swipe.start_y = swipe.end_y + dy;
 1328              		.loc 1 131 37 is_stmt 0 view .LVU403
 1329 0268 38EE0A8A 		vadd.f32	s16, s16, s20
 132:Src/ninja_fruit_game.c **** 			  swipe.timestamp = current_time;
 1330              		.loc 1 132 6 is_stmt 1 view .LVU404
 132:Src/ninja_fruit_game.c **** 			  swipe.timestamp = current_time;
 1331              		.loc 1 132 34 is_stmt 0 view .LVU405
 1332 026c 39EE2B9A 		vadd.f32	s18, s18, s23
 1333              	.LVL116:
 133:Src/ninja_fruit_game.c **** 			  swipe.active = 1;
 1334              		.loc 1 133 6 is_stmt 1 view .LVU406
 134:Src/ninja_fruit_game.c **** 			  CheckSlices(game, &swipe);
 1335              		.loc 1 134 6 view .LVU407
 135:Src/ninja_fruit_game.c ****         }
 1336              		.loc 1 135 6 view .LVU408
 1337              	.LBB83:
 1338              	.LBI83:
 206:Src/ninja_fruit_game.c **** {
 1339              		.loc 1 206 13 view .LVU409
 208:Src/ninja_fruit_game.c **** 
 1340              		.loc 1 208 5 view .LVU410
 1341              	.LBB84:
 210:Src/ninja_fruit_game.c ****         Fruit_t *fruit = &game->fruits[i];
 1342              		.loc 1 210 23 discriminator 1 view .LVU411
 1343              	.LBB85:
 1344              	.LBB86:
 1345              	.LBB87:
 1346              	.LBB88:
 289:Src/ninja_fruit_game.c **** 
 1347              		.loc 1 289 8 is_stmt 0 view .LVU412
 1348 0270 DFED49AA 		vldr.32	s21, .L87+56
 1349              	.LBE88:
 1350              	.LBE87:
 217:Src/ninja_fruit_game.c ****                                    swipe->end_x, swipe->end_y,
 1351              		.loc 1 217 16 discriminator 1 view .LVU413
 1352 0274 9FED49BA 		vldr.32	s22, .L87+60
 1353              	.LVL117:
 1354              	.L55:
 217:Src/ninja_fruit_game.c ****                                    swipe->end_x, swipe->end_y,
 1355              		.loc 1 217 16 discriminator 1 view .LVU414
 1356              	.LBE86:
 211:Src/ninja_fruit_game.c **** 
 1357              		.loc 1 211 9 is_stmt 1 view .LVU415
 213:Src/ninja_fruit_game.c ****             // Check if swipe line intersects with fruit circle
 1358              		.loc 1 213 9 view .LVU416
 213:Src/ninja_fruit_game.c ****             // Check if swipe line intersects with fruit circle
 1359              		.loc 1 213 12 is_stmt 0 view .LVU417
 1360 0278 6B7C     		ldrb	r3, [r5, #17]	@ zero_extendqisi2
 1361 027a 002B     		cmp	r3, #0
 1362 027c 5DD1     		bne	.L50
 1363              	.LBB96:
 215:Src/ninja_fruit_game.c **** 
 1364              		.loc 1 215 13 is_stmt 1 view .LVU418
ARM GAS  C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s 			page 39


 1365              	.LVL118:
 217:Src/ninja_fruit_game.c ****                                    swipe->end_x, swipe->end_y,
 1366              		.loc 1 217 13 view .LVU419
 1367              	.LBB92:
 1368              	.LBB89:
 286:Src/ninja_fruit_game.c ****     float32_t length = sqrtf(dx*dx + dy*dy);
 1369              		.loc 1 286 15 is_stmt 0 view .LVU420
 1370 027e 3BEEC9CA 		vsub.f32	s24, s23, s18
 285:Src/ninja_fruit_game.c ****     float32_t dy = y2 - y1;
 1371              		.loc 1 285 15 view .LVU421
 1372 0282 7AEE48CA 		vsub.f32	s25, s20, s16
 287:Src/ninja_fruit_game.c **** 
 1373              		.loc 1 287 40 view .LVU422
 1374 0286 2CEE0C0A 		vmul.f32	s0, s24, s24
 287:Src/ninja_fruit_game.c **** 
 1375              		.loc 1 287 24 view .LVU423
 1376 028a ACEEAC0A 		vfma.f32	s0, s25, s25
 1377              	.LBE89:
 1378              	.LBE92:
 217:Src/ninja_fruit_game.c ****                                    swipe->end_x, swipe->end_y,
 1379              		.loc 1 217 17 view .LVU424
 1380 028e D5ED009A 		vldr.32	s19, [r5]
 1381 0292 D5ED018A 		vldr.32	s17, [r5, #4]
 1382              	.LVL119:
 1383              	.LBB93:
 1384              	.LBI87:
 281:Src/ninja_fruit_game.c ****                                    float32_t cx, float32_t cy, float32_t radius)
 1385              		.loc 1 281 16 is_stmt 1 view .LVU425
 1386              	.LBB90:
 285:Src/ninja_fruit_game.c ****     float32_t dy = y2 - y1;
 1387              		.loc 1 285 5 view .LVU426
 286:Src/ninja_fruit_game.c ****     float32_t length = sqrtf(dx*dx + dy*dy);
 1388              		.loc 1 286 5 view .LVU427
 287:Src/ninja_fruit_game.c **** 
 1389              		.loc 1 287 5 view .LVU428
 287:Src/ninja_fruit_game.c **** 
 1390              		.loc 1 287 24 is_stmt 0 view .LVU429
 1391 0296 FFF7FEFF 		bl	sqrtf
 1392              	.LVL120:
 289:Src/ninja_fruit_game.c **** 
 1393              		.loc 1 289 5 is_stmt 1 view .LVU430
 289:Src/ninja_fruit_game.c **** 
 1394              		.loc 1 289 8 is_stmt 0 view .LVU431
 1395 029a B4EEEA0A 		vcmpe.f32	s0, s21
 1396 029e F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1397 02a2 4AD4     		bmi	.L50
 292:Src/ninja_fruit_game.c ****     dy /= length;
 1398              		.loc 1 292 5 is_stmt 1 view .LVU432
 293:Src/ninja_fruit_game.c **** 
 1399              		.loc 1 293 8 is_stmt 0 view .LVU433
 1400 02a4 CCEE006A 		vdiv.f32	s13, s24, s0
 297:Src/ninja_fruit_game.c **** 
 1401              		.loc 1 297 15 view .LVU434
 1402 02a8 78EEC97A 		vsub.f32	s15, s17, s18
 292:Src/ninja_fruit_game.c ****     dy /= length;
 1403              		.loc 1 292 8 view .LVU435
 1404 02ac 8CEE806A 		vdiv.f32	s12, s25, s0
ARM GAS  C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s 			page 40


 1405              	.LVL121:
 293:Src/ninja_fruit_game.c **** 
 1406              		.loc 1 293 5 is_stmt 1 view .LVU436
 296:Src/ninja_fruit_game.c ****     float32_t fy = cy - y1;
 1407              		.loc 1 296 5 view .LVU437
 297:Src/ninja_fruit_game.c **** 
 1408              		.loc 1 297 5 view .LVU438
 300:Src/ninja_fruit_game.c **** 
 1409              		.loc 1 300 5 view .LVU439
 296:Src/ninja_fruit_game.c ****     float32_t fy = cy - y1;
 1410              		.loc 1 296 15 is_stmt 0 view .LVU440
 1411 02b0 39EEC87A 		vsub.f32	s14, s19, s16
 1412              	.LVL122:
 300:Src/ninja_fruit_game.c **** 
 1413              		.loc 1 300 32 view .LVU441
 1414 02b4 67EEA67A 		vmul.f32	s15, s15, s13
 1415              	.LVL123:
 300:Src/ninja_fruit_game.c **** 
 1416              		.loc 1 300 15 view .LVU442
 1417 02b8 E6EE077A 		vfma.f32	s15, s12, s14
 1418              	.LVL124:
 303:Src/ninja_fruit_game.c ****     if (t > length) t = length;
 1419              		.loc 1 303 5 is_stmt 1 view .LVU443
 303:Src/ninja_fruit_game.c ****     if (t > length) t = length;
 1420              		.loc 1 303 8 is_stmt 0 view .LVU444
 1421 02bc F5EEC07A 		vcmpe.f32	s15, #0
 1422 02c0 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1423 02c4 47D4     		bmi	.L65
 304:Src/ninja_fruit_game.c **** 
 1424              		.loc 1 304 5 is_stmt 1 view .LVU445
 304:Src/ninja_fruit_game.c **** 
 1425              		.loc 1 304 8 is_stmt 0 view .LVU446
 1426 02c6 B4EEE70A 		vcmpe.f32	s0, s15
 1427 02ca F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1428 02ce 58BF     		it	pl
 1429 02d0 B0EE670A 		vmovpl.f32	s0, s15
 1430              	.LVL125:
 1431              	.L52:
 307:Src/ninja_fruit_game.c ****     float32_t closest_y = y1 + t * dy;
 1432              		.loc 1 307 5 is_stmt 1 view .LVU447
 308:Src/ninja_fruit_game.c **** 
 1433              		.loc 1 308 15 is_stmt 0 view .LVU448
 1434 02d4 F0EE497A 		vmov.f32	s15, s18
 307:Src/ninja_fruit_game.c ****     float32_t closest_y = y1 + t * dy;
 1435              		.loc 1 307 15 view .LVU449
 1436 02d8 B0EE487A 		vmov.f32	s14, s16
 1437              	.LVL126:
 308:Src/ninja_fruit_game.c **** 
 1438              		.loc 1 308 15 view .LVU450
 1439 02dc E6EE807A 		vfma.f32	s15, s13, s0
 307:Src/ninja_fruit_game.c ****     float32_t closest_y = y1 + t * dy;
 1440              		.loc 1 307 15 view .LVU451
 1441 02e0 A6EE007A 		vfma.f32	s14, s12, s0
 1442              	.LVL127:
 308:Src/ninja_fruit_game.c **** 
 1443              		.loc 1 308 5 is_stmt 1 view .LVU452
 311:Src/ninja_fruit_game.c **** 
ARM GAS  C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s 			page 41


 1444              		.loc 1 311 5 view .LVU453
 311:Src/ninja_fruit_game.c **** 
 1445              		.loc 1 311 67 is_stmt 0 view .LVU454
 1446 02e4 78EEE78A 		vsub.f32	s17, s17, s15
 1447              	.LVL128:
 311:Src/ninja_fruit_game.c **** 
 1448              		.loc 1 311 29 view .LVU455
 1449 02e8 79EEC79A 		vsub.f32	s19, s19, s14
 1450              	.LVL129:
 311:Src/ninja_fruit_game.c **** 
 1451              		.loc 1 311 80 view .LVU456
 1452 02ec 68EEA88A 		vmul.f32	s17, s17, s17
 311:Src/ninja_fruit_game.c **** 
 1453              		.loc 1 311 15 view .LVU457
 1454 02f0 E9EEA98A 		vfma.f32	s17, s19, s19
 1455              	.LVL130:
 313:Src/ninja_fruit_game.c **** }
 1456              		.loc 1 313 5 is_stmt 1 view .LVU458
 313:Src/ninja_fruit_game.c **** }
 1457              		.loc 1 313 5 is_stmt 0 view .LVU459
 1458              	.LBE90:
 1459              	.LBE93:
 217:Src/ninja_fruit_game.c ****                                    swipe->end_x, swipe->end_y,
 1460              		.loc 1 217 16 discriminator 1 view .LVU460
 1461 02f4 F4EECB8A 		vcmpe.f32	s17, s22
 1462 02f8 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1463 02fc 1DD8     		bhi	.L50
 1464              	.LBB94:
 222:Src/ninja_fruit_game.c ****                 fruit->slice_time = HAL_GetTick();
 1465              		.loc 1 222 17 is_stmt 1 view .LVU461
 222:Src/ninja_fruit_game.c ****                 fruit->slice_time = HAL_GetTick();
 1466              		.loc 1 222 30 is_stmt 0 view .LVU462
 1467 02fe 0123     		movs	r3, #1
 1468 0300 6B74     		strb	r3, [r5, #17]
 223:Src/ninja_fruit_game.c ****                 fruit->slice_direction = (swipe->end_x > swipe->start_x) ? 1 : 0;
 1469              		.loc 1 223 17 is_stmt 1 view .LVU463
 223:Src/ninja_fruit_game.c ****                 fruit->slice_direction = (swipe->end_x > swipe->start_x) ? 1 : 0;
 1470              		.loc 1 223 37 is_stmt 0 view .LVU464
 1471 0302 FFF7FEFF 		bl	HAL_GetTick
 1472              	.LVL131:
 224:Src/ninja_fruit_game.c **** 
 1473              		.loc 1 224 78 view .LVU465
 1474 0306 B4EECA8A 		vcmpe.f32	s16, s20
 1475 030a F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1476 030e 4CBF     		ite	mi
 1477 0310 0123     		movmi	r3, #1
 1478 0312 0023     		movpl	r3, #0
 1479 0314 2B77     		strb	r3, [r5, #28]
 228:Src/ninja_fruit_game.c ****                     case FRUIT_APPLE: base_score = 10; break;
 1480              		.loc 1 228 30 view .LVU466
 1481 0316 2B7C     		ldrb	r3, [r5, #16]	@ zero_extendqisi2
 223:Src/ninja_fruit_game.c ****                 fruit->slice_direction = (swipe->end_x > swipe->start_x) ? 1 : 0;
 1482              		.loc 1 223 35 discriminator 1 view .LVU467
 1483 0318 A861     		str	r0, [r5, #24]
 224:Src/ninja_fruit_game.c **** 
 1484              		.loc 1 224 17 is_stmt 1 view .LVU468
 227:Src/ninja_fruit_game.c ****                 switch (fruit->type) {
ARM GAS  C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s 			page 42


 1485              		.loc 1 227 17 view .LVU469
 1486              	.LVL132:
 228:Src/ninja_fruit_game.c ****                     case FRUIT_APPLE: base_score = 10; break;
 1487              		.loc 1 228 17 view .LVU470
 1488 031a 5A1E     		subs	r2, r3, #1
 1489 031c 022A     		cmp	r2, #2
 1490 031e 03EB8303 		add	r3, r3, r3, lsl #2
 1491 0322 03F10A03 		add	r3, r3, #10
 1492 0326 88BF     		it	hi
 1493 0328 0A23     		movhi	r3, #10
 1494              	.LVL133:
 235:Src/ninja_fruit_game.c ****             }
 1495              		.loc 1 235 17 view .LVU471
 235:Src/ninja_fruit_game.c ****             }
 1496              		.loc 1 235 29 is_stmt 0 view .LVU472
 1497 032a D4F80021 		ldr	r2, [r4, #256]
 235:Src/ninja_fruit_game.c ****             }
 1498              		.loc 1 235 43 view .LVU473
 1499 032e D4F81411 		ldr	r1, [r4, #276]
 235:Src/ninja_fruit_game.c ****             }
 1500              		.loc 1 235 29 view .LVU474
 1501 0332 01FB0322 		mla	r2, r1, r3, r2
 1502 0336 C4F80021 		str	r2, [r4, #256]
 1503              	.LVL134:
 1504              	.L50:
 235:Src/ninja_fruit_game.c ****             }
 1505              		.loc 1 235 29 view .LVU475
 1506              	.LBE94:
 1507              	.LBE96:
 1508              	.LBE85:
 210:Src/ninja_fruit_game.c ****         Fruit_t *fruit = &game->fruits[i];
 1509              		.loc 1 210 38 is_stmt 1 discriminator 2 view .LVU476
 210:Src/ninja_fruit_game.c ****         Fruit_t *fruit = &game->fruits[i];
 1510              		.loc 1 210 23 discriminator 1 view .LVU477
 1511 033a 2035     		adds	r5, r5, #32
 1512 033c BD42     		cmp	r5, r7
 1513 033e 9BD1     		bne	.L55
 1514              	.LVL135:
 1515              	.L56:
 210:Src/ninja_fruit_game.c ****         Fruit_t *fruit = &game->fruits[i];
 1516              		.loc 1 210 23 is_stmt 0 discriminator 1 view .LVU478
 1517              	.LBE84:
 1518              	.LBE83:
 1519              	.LBE101:
 1520              	.LBE105:
 144:Src/ninja_fruit_game.c ****         game->game_over = 1;
 1521              		.loc 1 144 5 is_stmt 1 view .LVU479
 144:Src/ninja_fruit_game.c ****         game->game_over = 1;
 1522              		.loc 1 144 8 is_stmt 0 view .LVU480
 1523 0340 D4F80431 		ldr	r3, [r4, #260]
 1524 0344 042B     		cmp	r3, #4
 145:Src/ninja_fruit_game.c ****     }
 1525              		.loc 1 145 9 is_stmt 1 view .LVU481
 145:Src/ninja_fruit_game.c ****     }
 1526              		.loc 1 145 25 is_stmt 0 view .LVU482
 1527 0346 84BF     		itt	hi
 1528 0348 0123     		movhi	r3, #1
ARM GAS  C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s 			page 43


 1529 034a 84F80C31 		strbhi	r3, [r4, #268]
 1530 034e 8AE6     		b	.L25
 1531              	.LVL136:
 1532              	.L62:
 1533              	.LBB106:
 1534              	.LBB102:
 122:Src/ninja_fruit_game.c ****                 } else {
 1535              		.loc 1 122 65 view .LVU483
 1536 0350 9FED0F8A 		vldr.32	s16, .L87+48
 1537 0354 86E7     		b	.L86
 1538              	.LVL137:
 1539              	.L65:
 1540              	.LBB100:
 1541              	.LBB99:
 1542              	.LBB98:
 1543              	.LBB97:
 1544              	.LBB95:
 1545              	.LBB91:
 303:Src/ninja_fruit_game.c ****     if (t > length) t = length;
 1546              		.loc 1 303 18 discriminator 1 view .LVU484
 1547 0356 9FED0F0A 		vldr.32	s0, .L87+52
 1548              	.LVL138:
 303:Src/ninja_fruit_game.c ****     if (t > length) t = length;
 1549              		.loc 1 303 18 discriminator 1 view .LVU485
 1550 035a BBE7     		b	.L52
 1551              	.L88:
 1552 035c AFF30080 		.align	3
 1553              	.L87:
 1554 0360 5C8FC2F5 		.word	-171798692
 1555 0364 285CEF3F 		.word	1072651304
 1556 0368 00000000 		.word	last_mode_toggle
 1557 036c 9A99993E 		.word	1050253722
 1558 0370 0000FA44 		.word	1157234688
 1559 0374 00007A44 		.word	1148846080
 1560 0378 8FC2F53C 		.word	1022739087
 1561 037c 00401C46 		.word	1176256512
 1562 0380 9A99193E 		.word	1041865114
 1563 0384 6F12833C 		.word	1015222895
 1564 0388 CDCC4C3E 		.word	1045220557
 1565 038c 9A9999BE 		.word	-1097229926
 1566 0390 CDCC4CBE 		.word	-1102263091
 1567 0394 00000000 		.word	0
 1568 0398 6F12833A 		.word	981668463
 1569 039c EC51B839 		.word	968380908
 1570              	.LVL139:
 1571              	.L43:
 303:Src/ninja_fruit_game.c ****     if (t > length) t = length;
 1572              		.loc 1 303 18 discriminator 1 view .LVU486
 1573              	.LBE91:
 1574              	.LBE95:
 1575              	.LBE97:
 1576              	.LBE98:
 1577              	.LBE99:
 1578              	.LBE100:
 1579              	.LBE102:
 1580              	.LBE106:
 139:Src/ninja_fruit_game.c ****         }
ARM GAS  C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s 			page 44


 1581              		.loc 1 139 13 is_stmt 1 view .LVU487
 1582              	.LBB107:
 1583              	.LBI107:
 241:Src/ninja_fruit_game.c **** {
 1584              		.loc 1 241 13 view .LVU488
 1585              	.LBB108:
 243:Src/ninja_fruit_game.c ****     float32_t ly = keypoints[KEYPOINT_LEFT_WRIST].y_center;
 1586              		.loc 1 243 5 view .LVU489
 243:Src/ninja_fruit_game.c ****     float32_t ly = keypoints[KEYPOINT_LEFT_WRIST].y_center;
 1587              		.loc 1 243 15 is_stmt 0 view .LVU490
 1588 03a0 D6ED0F8A 		vldr.32	s17, [r6, #60]
 1589              	.LVL140:
 244:Src/ninja_fruit_game.c ****     float32_t rx = keypoints[KEYPOINT_RIGHT_WRIST].x_center;
 1590              		.loc 1 244 5 is_stmt 1 view .LVU491
 244:Src/ninja_fruit_game.c ****     float32_t rx = keypoints[KEYPOINT_RIGHT_WRIST].x_center;
 1591              		.loc 1 244 15 is_stmt 0 view .LVU492
 1592 03a4 96ED109A 		vldr.32	s18, [r6, #64]
 1593              	.LVL141:
 245:Src/ninja_fruit_game.c ****     float32_t ry = keypoints[KEYPOINT_RIGHT_WRIST].y_center;
 1594              		.loc 1 245 5 is_stmt 1 view .LVU493
 245:Src/ninja_fruit_game.c ****     float32_t ry = keypoints[KEYPOINT_RIGHT_WRIST].y_center;
 1595              		.loc 1 245 15 is_stmt 0 view .LVU494
 1596 03a8 D6ED129A 		vldr.32	s19, [r6, #72]
 1597              	.LVL142:
 246:Src/ninja_fruit_game.c ****     float32_t radius = FRUIT_SIZE / 2.0f / 800.0f;
 1598              		.loc 1 246 5 is_stmt 1 view .LVU495
 246:Src/ninja_fruit_game.c ****     float32_t radius = FRUIT_SIZE / 2.0f / 800.0f;
 1599              		.loc 1 246 15 is_stmt 0 view .LVU496
 1600 03ac 96ED13AA 		vldr.32	s20, [r6, #76]
 1601              	.LVL143:
 247:Src/ninja_fruit_game.c ****     float32_t radius_sq = radius * radius;
 1602              		.loc 1 247 5 is_stmt 1 view .LVU497
 248:Src/ninja_fruit_game.c **** 
 1603              		.loc 1 248 5 view .LVU498
 250:Src/ninja_fruit_game.c ****         Fruit_t *fruit = &game->fruits[i];
 1604              		.loc 1 250 5 view .LVU499
 1605              	.LBB109:
 250:Src/ninja_fruit_game.c ****         Fruit_t *fruit = &game->fruits[i];
 1606              		.loc 1 250 10 view .LVU500
 250:Src/ninja_fruit_game.c ****         Fruit_t *fruit = &game->fruits[i];
 1607              		.loc 1 250 23 discriminator 1 view .LVU501
 1608              	.LBB110:
 1609              	.LBB111:
 262:Src/ninja_fruit_game.c ****                 fruit->state = FRUIT_STATE_SLICED;
 1610              		.loc 1 262 16 is_stmt 0 view .LVU502
 1611 03b0 1FED068A 		vldr.32	s16, .L87+60
 1612              	.LBB112:
 263:Src/ninja_fruit_game.c ****                 fruit->slice_time = HAL_GetTick();
 1613              		.loc 1 263 30 view .LVU503
 1614 03b4 0126     		movs	r6, #1
 1615              	.LVL144:
 265:Src/ninja_fruit_game.c **** 
 1616              		.loc 1 265 40 view .LVU504
 1617 03b6 4FF00008 		mov	r8, #0
 1618              	.LVL145:
 1619              	.L61:
 265:Src/ninja_fruit_game.c **** 
ARM GAS  C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s 			page 45


 1620              		.loc 1 265 40 view .LVU505
 1621              	.LBE112:
 1622              	.LBE111:
 251:Src/ninja_fruit_game.c **** 
 1623              		.loc 1 251 9 is_stmt 1 view .LVU506
 253:Src/ninja_fruit_game.c ****             float32_t dx = lx - fruit->x;
 1624              		.loc 1 253 9 view .LVU507
 253:Src/ninja_fruit_game.c ****             float32_t dx = lx - fruit->x;
 1625              		.loc 1 253 12 is_stmt 0 view .LVU508
 1626 03ba 6B7C     		ldrb	r3, [r5, #17]	@ zero_extendqisi2
 1627 03bc A3BB     		cbnz	r3, .L57
 1628              	.LBB114:
 254:Src/ninja_fruit_game.c ****             float32_t dy = ly - fruit->y;
 1629              		.loc 1 254 13 is_stmt 1 view .LVU509
 255:Src/ninja_fruit_game.c ****             float32_t dist_left_sq = dx * dx + dy * dy;
 1630              		.loc 1 255 38 is_stmt 0 view .LVU510
 1631 03be D5ED016A 		vldr.32	s13, [r5, #4]
 254:Src/ninja_fruit_game.c ****             float32_t dy = ly - fruit->y;
 1632              		.loc 1 254 38 view .LVU511
 1633 03c2 D5ED007A 		vldr.32	s15, [r5]
 255:Src/ninja_fruit_game.c ****             float32_t dist_left_sq = dx * dx + dy * dy;
 1634              		.loc 1 255 23 view .LVU512
 1635 03c6 39EE667A 		vsub.f32	s14, s18, s13
 254:Src/ninja_fruit_game.c ****             float32_t dy = ly - fruit->y;
 1636              		.loc 1 254 23 view .LVU513
 1637 03ca 38EEE76A 		vsub.f32	s12, s17, s15
 1638              	.LVL146:
 255:Src/ninja_fruit_game.c ****             float32_t dist_left_sq = dx * dx + dy * dy;
 1639              		.loc 1 255 13 is_stmt 1 view .LVU514
 256:Src/ninja_fruit_game.c **** 
 1640              		.loc 1 256 13 view .LVU515
 256:Src/ninja_fruit_game.c **** 
 1641              		.loc 1 256 51 is_stmt 0 view .LVU516
 1642 03ce 27EE077A 		vmul.f32	s14, s14, s14
 1643              	.LVL147:
 256:Src/ninja_fruit_game.c **** 
 1644              		.loc 1 256 23 view .LVU517
 1645 03d2 A6EE067A 		vfma.f32	s14, s12, s12
 1646              	.LVL148:
 258:Src/ninja_fruit_game.c ****             dy = ry - fruit->y;
 1647              		.loc 1 258 13 is_stmt 1 view .LVU518
 259:Src/ninja_fruit_game.c ****             float32_t dist_right_sq = dx * dx + dy * dy;
 1648              		.loc 1 259 13 view .LVU519
 260:Src/ninja_fruit_game.c **** 
 1649              		.loc 1 260 13 view .LVU520
 262:Src/ninja_fruit_game.c ****                 fruit->state = FRUIT_STATE_SLICED;
 1650              		.loc 1 262 13 view .LVU521
 262:Src/ninja_fruit_game.c ****                 fruit->state = FRUIT_STATE_SLICED;
 1651              		.loc 1 262 16 is_stmt 0 view .LVU522
 1652 03d6 B4EEC87A 		vcmpe.f32	s14, s16
 1653 03da F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1654 03de 0CD9     		bls	.L58
 258:Src/ninja_fruit_game.c ****             dy = ry - fruit->y;
 1655              		.loc 1 258 16 view .LVU523
 1656 03e0 79EEE77A 		vsub.f32	s15, s19, s15
 259:Src/ninja_fruit_game.c ****             float32_t dist_right_sq = dx * dx + dy * dy;
 1657              		.loc 1 259 16 view .LVU524
ARM GAS  C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s 			page 46


 1658 03e4 3AEE667A 		vsub.f32	s14, s20, s13
 1659              	.LVL149:
 260:Src/ninja_fruit_game.c **** 
 1660              		.loc 1 260 42 view .LVU525
 1661 03e8 67EEA77A 		vmul.f32	s15, s15, s15
 260:Src/ninja_fruit_game.c **** 
 1662              		.loc 1 260 23 view .LVU526
 1663 03ec E7EE077A 		vfma.f32	s15, s14, s14
 262:Src/ninja_fruit_game.c ****                 fruit->state = FRUIT_STATE_SLICED;
 1664              		.loc 1 262 43 discriminator 1 view .LVU527
 1665 03f0 F4EEC87A 		vcmpe.f32	s15, s16
 1666 03f4 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1667 03f8 16D8     		bhi	.L57
 1668              	.L58:
 1669              	.LBB113:
 263:Src/ninja_fruit_game.c ****                 fruit->slice_time = HAL_GetTick();
 1670              		.loc 1 263 17 is_stmt 1 view .LVU528
 263:Src/ninja_fruit_game.c ****                 fruit->slice_time = HAL_GetTick();
 1671              		.loc 1 263 30 is_stmt 0 view .LVU529
 1672 03fa 6E74     		strb	r6, [r5, #17]
 264:Src/ninja_fruit_game.c ****                 fruit->slice_direction = 0;
 1673              		.loc 1 264 17 is_stmt 1 view .LVU530
 264:Src/ninja_fruit_game.c ****                 fruit->slice_direction = 0;
 1674              		.loc 1 264 37 is_stmt 0 view .LVU531
 1675 03fc FFF7FEFF 		bl	HAL_GetTick
 1676              	.LVL150:
 268:Src/ninja_fruit_game.c ****                     case FRUIT_APPLE: base_score = 10; break;
 1677              		.loc 1 268 30 view .LVU532
 1678 0400 2B7C     		ldrb	r3, [r5, #16]	@ zero_extendqisi2
 264:Src/ninja_fruit_game.c ****                 fruit->slice_direction = 0;
 1679              		.loc 1 264 35 discriminator 1 view .LVU533
 1680 0402 A861     		str	r0, [r5, #24]
 265:Src/ninja_fruit_game.c **** 
 1681              		.loc 1 265 17 is_stmt 1 view .LVU534
 1682 0404 5A1E     		subs	r2, r3, #1
 1683 0406 022A     		cmp	r2, #2
 1684 0408 03EB8303 		add	r3, r3, r3, lsl #2
 1685 040c 03F10A03 		add	r3, r3, #10
 1686 0410 88BF     		it	hi
 1687 0412 0A23     		movhi	r3, #10
 265:Src/ninja_fruit_game.c **** 
 1688              		.loc 1 265 40 is_stmt 0 view .LVU535
 1689 0414 85F81C80 		strb	r8, [r5, #28]
 267:Src/ninja_fruit_game.c ****                 switch (fruit->type) {
 1690              		.loc 1 267 17 is_stmt 1 view .LVU536
 1691              	.LVL151:
 268:Src/ninja_fruit_game.c ****                     case FRUIT_APPLE: base_score = 10; break;
 1692              		.loc 1 268 17 view .LVU537
 274:Src/ninja_fruit_game.c ****             }
 1693              		.loc 1 274 17 view .LVU538
 274:Src/ninja_fruit_game.c ****             }
 1694              		.loc 1 274 29 is_stmt 0 view .LVU539
 1695 0418 D4F80021 		ldr	r2, [r4, #256]
 274:Src/ninja_fruit_game.c ****             }
 1696              		.loc 1 274 43 view .LVU540
 1697 041c D4F81411 		ldr	r1, [r4, #276]
 274:Src/ninja_fruit_game.c ****             }
ARM GAS  C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s 			page 47


 1698              		.loc 1 274 29 view .LVU541
 1699 0420 01FB0322 		mla	r2, r1, r3, r2
 1700 0424 C4F80021 		str	r2, [r4, #256]
 1701              	.LVL152:
 1702              	.L57:
 274:Src/ninja_fruit_game.c ****             }
 1703              		.loc 1 274 29 view .LVU542
 1704              	.LBE113:
 1705              	.LBE114:
 1706              	.LBE110:
 250:Src/ninja_fruit_game.c ****         Fruit_t *fruit = &game->fruits[i];
 1707              		.loc 1 250 38 is_stmt 1 discriminator 2 view .LVU543
 250:Src/ninja_fruit_game.c ****         Fruit_t *fruit = &game->fruits[i];
 1708              		.loc 1 250 23 discriminator 1 view .LVU544
 1709 0428 2035     		adds	r5, r5, #32
 1710 042a BD42     		cmp	r5, r7
 1711 042c C5D1     		bne	.L61
 1712 042e 87E7     		b	.L56
 1713              	.LBE109:
 1714              	.LBE108:
 1715              	.LBE107:
 1716              		.cfi_endproc
 1717              	.LFE3344:
 1719              		.section	.text.NinjaGame_SetMode,"ax",%progbits
 1720              		.align	1
 1721              		.global	NinjaGame_SetMode
 1722              		.syntax unified
 1723              		.thumb
 1724              		.thumb_func
 1726              	NinjaGame_SetMode:
 1727              	.LVL153:
 1728              	.LFB3354:
 425:Src/ninja_fruit_game.c **** 
 426:Src/ninja_fruit_game.c **** void NinjaGame_SetMode(NinjaGame_t *game, NinjaGameMode_t mode)
 427:Src/ninja_fruit_game.c **** {
 1729              		.loc 1 427 1 view -0
 1730              		.cfi_startproc
 1731              		@ args = 0, pretend = 0, frame = 0
 1732              		@ frame_needed = 0, uses_anonymous_args = 0
 1733              		@ link register save eliminated.
 428:Src/ninja_fruit_game.c ****     game->mode = mode;
 1734              		.loc 1 428 5 view .LVU546
 1735              		.loc 1 428 16 is_stmt 0 view .LVU547
 1736 0000 80F81C11 		strb	r1, [r0, #284]
 429:Src/ninja_fruit_game.c **** }
 1737              		.loc 1 429 1 view .LVU548
 1738 0004 7047     		bx	lr
 1739              		.cfi_endproc
 1740              	.LFE3354:
 1742              		.section	.bss.last_mode_toggle,"aw",%nobits
 1743              		.align	2
 1746              	last_mode_toggle:
 1747 0000 00000000 		.space	4
 1748              		.section	.rodata.fruit_colors,"a"
 1749              		.align	2
 1752              	fruit_colors:
 1753 0000 0000FFFF 		.word	-65536
ARM GAS  C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s 			page 48


 1754 0004 00A5FFFF 		.word	-23296
 1755 0008 00FFFFFF 		.word	-256
 1756 000c 8080FFFF 		.word	-32640
 1757              		.text
 1758              	.Letext0:
 1759              		.file 2 "C:\\ST\\STM32CubeIDE_1.19.0\\STM32CubeIDE\\plugins\\com.st.stm32cube.ide.mcu.externaltool
 1760              		.file 3 "C:\\ST\\STM32CubeIDE_1.19.0\\STM32CubeIDE\\plugins\\com.st.stm32cube.ide.mcu.externaltool
 1761              		.file 4 "C:\\ST\\STM32CubeIDE_1.19.0\\STM32CubeIDE\\plugins\\com.st.stm32cube.ide.mcu.externaltool
 1762              		.file 5 "../../STM32Cube_FW_N6/Utilities/lcd/../Fonts/fonts.h"
 1763              		.file 6 "../../STM32Cube_FW_N6/Drivers/STM32N6xx_HAL_Driver/Inc/stm32n6xx_hal_gpio.h"
 1764              		.file 7 "../../STM32Cube_FW_N6/Utilities/lcd/stm32_lcd.h"
 1765              		.file 8 "C:\\ST\\STM32CubeIDE_1.19.0\\STM32CubeIDE\\plugins\\com.st.stm32cube.ide.mcu.externaltool
 1766              		.file 9 "../../Middlewares/lib_vision_models_pp/lib_vision_models_pp/Inc/spe_pp_output_if.h"
 1767              		.file 10 "Inc/gesture_detection.h"
 1768              		.file 11 "Inc/ninja_fruit_game.h"
 1769              		.file 12 "../../STM32Cube_FW_N6/Drivers/BSP/STM32N6570-DK/stm32n6570_discovery.h"
 1770              		.file 13 "C:\\ST\\STM32CubeIDE_1.19.0\\STM32CubeIDE\\plugins\\com.st.stm32cube.ide.mcu.externaltoo
 1771              		.file 14 "C:\\ST\\STM32CubeIDE_1.19.0\\STM32CubeIDE\\plugins\\com.st.stm32cube.ide.mcu.externaltoo
 1772              		.file 15 "../../STM32Cube_FW_N6/Drivers/STM32N6xx_HAL_Driver/Inc/stm32n6xx_hal.h"
 1773              		.file 16 "C:\\ST\\STM32CubeIDE_1.19.0\\STM32CubeIDE\\plugins\\com.st.stm32cube.ide.mcu.externaltoo
 1774              		.file 17 "<built-in>"
ARM GAS  C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s 			page 49


DEFINED SYMBOLS
                            *ABS*:00000000 ninja_fruit_game.c
C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s:26     .text.NinjaGame_Init:00000000 $t
C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s:32     .text.NinjaGame_Init:00000000 NinjaGame_Init
C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s:154    .text.NinjaGame_Render:00000000 $t
C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s:160    .text.NinjaGame_Render:00000000 NinjaGame_Render
C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s:695    .text.NinjaGame_Render:000002a8 $d
C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s:1752   .rodata.fruit_colors:00000000 fruit_colors
C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s:724    .text.NinjaGame_Reset:00000000 $t
C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s:730    .text.NinjaGame_Reset:00000000 NinjaGame_Reset
C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s:766    .text.NinjaGame_Update:00000000 $t
C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s:772    .text.NinjaGame_Update:00000000 NinjaGame_Update
C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s:1554   .text.NinjaGame_Update:00000360 $d
C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s:1746   .bss.last_mode_toggle:00000000 last_mode_toggle
C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s:1588   .text.NinjaGame_Update:000003a0 $t
C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s:1720   .text.NinjaGame_SetMode:00000000 $t
C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s:1726   .text.NinjaGame_SetMode:00000000 NinjaGame_SetMode
C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s:1743   .bss.last_mode_toggle:00000000 $d
C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s:1749   .rodata.fruit_colors:00000000 $d
                           .group:00000000 wm4.0.edffc6ad2f5eb1e671bbefdf8c481eb3
                           .group:00000000 wm4.stm32n6xx_hal_conf.h.21.e6f895f5dec93fd886896ef3aa220611
                           .group:00000000 wm4.stddef.h.39.0dc9006b34572d4d9cae4c8b422c4971
                           .group:00000000 wm4.arm_cmse.h.103.a0d15a79c4c9a67da8d5831704d7248e
                           .group:00000000 wm4.stm32n6xx.h.34.80585dd08aa426c932f6311fdb7386da
                           .group:00000000 wm4.stm32n657xx.h.26.acd272cb67318cc1a4791ce2f0720ca6
                           .group:00000000 wm4._newlib_version.h.4.411db44ea2338a62eca2f0777f81481b
                           .group:00000000 wm4.features.h.33.e0c9f337c65cb9f22ed5f23d082bc78b
                           .group:00000000 wm4._default_types.h.15.247e5cd201eca3442cbf5404108c4935
                           .group:00000000 wm4._intsup.h.10.48bafbb683905c4daa4565a85aeeb264
                           .group:00000000 wm4._stdint.h.10.c24fa3af3bc1706662bb5593a907e841
                           .group:00000000 wm4.stdint.h.23.d53047a68f4a85177f80b422d52785ed
                           .group:00000000 wm4.cmsis_version.h.32.0ac195c83bb4537824e6ad1c47474b79
                           .group:00000000 wm4.core_cm55.h.68.832d5cf835639cc0d28219c3d2867330
                           .group:00000000 wm4.cmsis_gcc.h.26.7a5fd1a99dbedde687044a4433ab3e15
                           .group:00000000 wm4.core_cm55.h.196.52e437a270752da561676e507b35baeb
                           .group:00000000 wm4.mpu_armv8.h.32.9d72426c8e2b47753456dcb84802c5b3
                           .group:00000000 wm4.pmu_armv8.h.32.eaa95f88a71b29390b135fd81c071b6b
                           .group:00000000 wm4.core_cm55.h.4411.860dad8650880893dd57b815844f7186
                           .group:00000000 wm4.cachel1_armv7.h.32.abd77761a989e008b0c60891114a33c7
                           .group:00000000 wm4.stm32n657xx.h.575.1c2a5e6bedffc6f9083dcc857bc6d09d
                           .group:00000000 wm4.stm32n6xx.h.114.5cf793d8af485e14f110e3e24bde1aa5
                           .group:00000000 wm4.stm32_hal_legacy.h.22.87fb12bf5a1a1e00fc134f22bc9aa8c4
                           .group:00000000 wm4.newlib.h.7.a37ffbe9e5aff74303f4e60b1cc1c01b
                           .group:00000000 wm4.ieeefp.h.77.bd5feb87d9990dd328793ced294f6a87
                           .group:00000000 wm4.config.h.224.10ee1ad185d877c6e334e6581faab44d
                           .group:00000000 wm4._ansi.h.31.de524f58584151836e90d8620a16f8e8
                           .group:00000000 wm4.cdefs.h.49.70fc7af612f78ddcace70fdd90b5623b
                           .group:00000000 wm4._types.h.20.dd0d04dca3800a0d2a6129b87f3adbb2
                           .group:00000000 wm4.stddef.h.158.6f8e08a347b1cff664332fa350bfceb3
                           .group:00000000 wm4._types.h.127.3bdfe3ff8ea2d0985b03d9cbe93480e3
                           .group:00000000 wm4.reent.h.18.25503cdc8b7e55dd0d6ea7b3e5af7a03
                           .group:00000000 wm4.lock.h.2.1461d1fff82dffe8bfddc23307f6484f
                           .group:00000000 wm4.reent.h.78.6b87466b04591b1f1cb88c14fdf2ba9e
                           .group:00000000 wm4.math.h.13.47cfc34cae8a1153323939c4d32cf7c2
                           .group:00000000 wm4.stm32n6xx_hal_def.h.63.3a8f01490e8852464e9fcb69092e9c75
                           .group:00000000 wm4.stm32n6xx_ll_bus.h.38.2366a295ee4cdb04833997d3787fcd2d
                           .group:00000000 wm4.stm32n6xx_ll_rcc.h.21.002e22a16fd7f67dde6dce41e8ba9620
ARM GAS  C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s 			page 50


                           .group:00000000 wm4.stm32n6xx_hal_rcc.h.194.1cb1283e40f9bebcd3fba2a9a961838e
                           .group:00000000 wm4.stm32n6xx_hal_rcc_ex.h.21.79aa32178dfef625fbd20d362449acfa
                           .group:00000000 wm4.stm32n6xx_hal_rcc.h.4359.3f0b7ad33826d95438602c9aebc08af9
                           .group:00000000 wm4.stm32n6xx_hal_gpio.h.21.89d54af663b98eb8fc098192053f7eeb
                           .group:00000000 wm4.stm32n6xx_hal_gpio_ex.h.22.4acb2e3511a98bb48b81cfc8e09fd59e
                           .group:00000000 wm4.stm32n6xx_hal_rif.h.21.424d0bafb874a777dee3742a22e13037
                           .group:00000000 wm4.stm32n6xx_hal_dma.h.21.61e48c5c2e8d25d22177834b232fe45c
                           .group:00000000 wm4.stm32n6xx_hal_dma_ex.h.21.66e597beb090a165329d6ccf665e41bc
                           .group:00000000 wm4.stm32n6xx_hal_dma.h.1020.87e2180c009560b617c1f8208140c950
                           .group:00000000 wm4.stm32n6xx_hal_cortex.h.21.f493623cc58f9454ab4eae41e395c5cc
                           .group:00000000 wm4.stm32n6xx_hal_bsec.h.21.61b309e67dd810e28897a01b1b21a97f
                           .group:00000000 wm4.stm32n6xx_hal_dcmipp.h.21.f538bfd785c6469670251ac9bc7af55d
                           .group:00000000 wm4.stm32n6xx_hal_dma2d.h.21.75c8d46cdbb72970123b3f34ae2043d7
                           .group:00000000 wm4.stm32n6xx_hal_exti.h.21.fda87e715ea6b98239ec30171d1df594
                           .group:00000000 wm4.stm32n6xx_hal_i2c.h.21.3f483626ff64c5bf027265bb2e1d1331
                           .group:00000000 wm4.stm32n6xx_hal_i2c_ex.h.21.79e9196c22282cdaf6b4047893638c45
                           .group:00000000 wm4.stm32n6xx_hal_i2c.h.741.1084702632703acc669e4282b3043372
                           .group:00000000 wm4.stm32n6xx_hal_ltdc.h.21.ae1eb09930e7e550e48e418ac5849e4d
                           .group:00000000 wm4.stm32n6xx_hal_ltdc.h.1002.b13ede7fc94ed5ad1c6768a157d2149a
                           .group:00000000 wm4.stm32n6xx_hal_pwr.h.21.cdb73e4869c3fed3fc84f901ec0e5f0a
                           .group:00000000 wm4.stm32n6xx_hal_pwr_ex.h.21.1a673224a58b0c1e5fad8eeda6514208
                           .group:00000000 wm4.stm32n6xx_hal_ramcfg.h.21.a62dfbb4d2c14e9a8c634a215e37bd3d
                           .group:00000000 wm4.stm32n6xx_hal_uart.h.21.230f549bfa0d5ebfd77bfb311b2aca15
                           .group:00000000 wm4.stm32n6xx_hal_uart_ex.h.21.a0d5511e1d0703b7b5278c8f5472b96d
                           .group:00000000 wm4.stm32n6xx_hal_xspi.h.21.e17898be2073b6b6b19faf30b4e304e9
                           .group:00000000 wm4.stm32n6xx_hal_cacheaxi.h.21.7c3375b7903ec42376e4883320997f74
                           .group:00000000 wm4.stm32n6xx_hal.h.81.5e59143eba07faca3e9aeaa5470826c8
                           .group:00000000 wm4.lcd.h.21.98701c105e66fef2e089854e5bc0fe32
                           .group:00000000 wm4.stm32_lcd.h.55.1a04e503950bf34ef3721d2ebb9542fc
                           .group:00000000 wm4.main.h.30.caab52a0a8de64f9677f2eb568935933
                           .group:00000000 wm4.string.h.8.c4b8571ce60dff2817f43fec8b86aecd
                           .group:00000000 wm4.stddef.h.158.eec8bf00b5213f43d095cb984c5f22e3
                           .group:00000000 wm4.string.h.177.59a005921fa78485abc80a0267de5752
                           .group:00000000 wm4.float.h.29.0e9d9baf95ec39f9555dc80c6e28186b
                           .group:00000000 wm4.syslimits.h.34.de5cbd310098bc5895998b6bde577ed2
                           .group:00000000 wm4.limits.h.9.70fb0ada6f71b16202a66baaa6d8ea70
                           .group:00000000 wm4.limits.h.60.56a1ae353e2028a24298ec6463b8b593
                           .group:00000000 wm4.arm_math_types.h.94.a6c8422e2657ad4cd95bd8be69ba02aa
                           .group:00000000 wm4.stdbool.h.29.c08aa3eec75cf5b9b5003883f43253f0
                           .group:00000000 wm4.arm_mve.h.38.47b22bbd301ce82bc6dafd1a387f65a3
                           .group:00000000 wm4.arm_math_types.h.559.cab78f278b684a3ea2271947c7aea680
                           .group:00000000 wm4.arm_math_memory.h.28.fe8a81c6a9ac13061a5f748732089249
                           .group:00000000 wm4.none.h.185.db055cca83e83f96d8d0bb450fbdf4bb
                           .group:00000000 wm4.utils.h.27.57524573fe37b04009eecf3582a4c591
                           .group:00000000 wm4.fast_math_functions.h.28.8eb7477260c1d6b62047c49a01c4cbaa
                           .group:00000000 wm4.controller_functions.h.28.7bed7d7a726df2f65b8a3d89cff01247
                           .group:00000000 wm4.filtering_functions.h.46.6cf1424fb1f86d5f9958d208b83340a1
                           .group:00000000 wm4.app_config.h.24.e9b8ad8c27ec31b3b21644fa8513e998
                           .group:00000000 wm4.spe_pp_output_if.h.11.7212d2990e83c8afeadfa97fa05d17c4
                           .group:00000000 wm4.gesture_detection.h.10.d7513471c97a364c41f0081fc9baf7b8
                           .group:00000000 wm4.ninja_fruit_game.h.17.d5162bdc95f0a704ee00f86b01440df2
                           .group:00000000 wm4.utils.h.20.a122c519940ea111a25b4d1f17b5f8d3
                           .group:00000000 wm4.stm32n6570_discovery_conf.h.21.f52c8202689527a3dc0d9c6cba9c0416
                           .group:00000000 wm4.stm32n6570_discovery_errno.h.22.80e523b09444a11ebe4b6e24ae914f0e
                           .group:00000000 wm4.stdio.h.27.3fc80220048df77954e38daec3bb9670
                           .group:00000000 wm4.stdarg.h.34.3a23a216c0c293b3d2ea2e89281481e6
                           .group:00000000 wm4.stdio.h.47.dc31ec4674d7bcb103c9f08809549f45
ARM GAS  C:\Users\Antonio\AppData\Local\Temp\ccFlCI6I.s 			page 51


                           .group:00000000 wm4.stdio.h.2.4aa87247282eca6c8f36f9de33d8df1a
                           .group:00000000 wm4.stdio.h.87.a1e20d2651f9bfb66e51bfbe849db00a
                           .group:00000000 wm4.stm32n6570_discovery.h.60.fc3704802df68626cd6fd14123d1f0c4
                           .group:00000000 wm4.stdlib.h.13.4ed386f5c1a80d71e72172885d946ef2
                           .group:00000000 wm4.alloca.h.8.dfc0c703c47ec3e69746825b17d9e66d
                           .group:00000000 wm4.stdlib.h.56.f4862cfbf4363a1db01842d5bdf72c18

UNDEFINED SYMBOLS
memset
UTIL_LCD_SetBackColor
UTIL_LCD_GetFont
UTIL_LCDEx_PrintfAt
UTIL_LCD_FillCircle
UTIL_LCD_SetTextColor
HAL_GetTick
BSP_PB_GetState
Gesture_GetCurrentDisplayGesture
rand
sqrtf
